(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(34).concat([function(e,t,c){},,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,s=c(25),n=c.n(s),r=c(6),i=c(4),o=c(9),l=c.n(o),u=c(3),j=c(1),d=c.n(j),b=c(24),O=c(7);function m(e,t){return t?e-e*(t/100):e}function h(e,t,c){var s=Object(O.a)(e);if(t&&(s=s.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))),c)switch(c){case a.Alphabetically:s.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case a.Cheapest:s.sort((function(e,t){return e.price-t.price}));break;default:case a.Newest:s.sort((function(e,t){return e.age-t.age}))}return s}function p(e,t){return e.filter((function(e){return e.id!==t}))}function _(e,t,c){var a;switch(c){case"minus":a=t.quantity-1;break;case"plus":a=t.quantity+1;break;default:a=1}var s=Object(b.a)(Object(b.a)({},t),{},{quantity:a}),n=Object(O.a)(e),r=n.findIndex((function(e){return e.id===t.id}));return n.splice(r,1,s),n}function x(e,t){var c=Object(j.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(a){return localStorage.removeItem(e),t}})),a=Object(u.a)(c,2),s=a[0],n=a[1];return[s,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}!function(e){e.Newest="age",e.Alphabetically="name",e.Cheapest="price"}(a||(a={}));var f=c(0),g=d.a.createContext({cart:[],setCart:function(){},totalQuantity:0}),v=function(e){var t=e.children,c=x("cart",[]),a=Object(u.a)(c,2),s=a[0],n=a[1],r=Object(j.useMemo)((function(){return function(e){return Object(O.a)(e).reduce((function(e,t){return e+t.quantity}),0)}(s)}),[s]),i=Object(j.useMemo)((function(){return{cart:s,setCart:n,totalQuantity:r}}),[s]);return Object(f.jsx)(g.Provider,{value:i,children:t})};function N(){return Object(j.useContext)(g)}var P=d.a.createContext({favourites:[],setFavourites:function(){}}),y=function(e){var t=e.children,c=x("favourites",[]),a=Object(u.a)(c,2),s=a[0],n=a[1],r=Object(j.useMemo)((function(){return{favourites:s,setFavourites:n}}),[s]);return Object(f.jsx)(P.Provider,{value:r,children:t})};function C(){return Object(j.useContext)(P)}c(34);var D=function(){return Object(f.jsx)(r.b,{to:"/",className:"Logo",children:Object(f.jsx)("img",{src:"./img/logo.svg",alt:"Logo"})})};c(36);function k(e){var t=e.isActive;return l()("Navbar__link",{"Navbar__link--active":t})}var S,w=function(){return Object(f.jsxs)("nav",{className:"Navbar",children:[Object(f.jsx)(r.b,{to:"/",className:k,children:"Home"}),Object(f.jsx)(r.b,{to:"/phones",className:k,children:"Phones"}),Object(f.jsx)(r.b,{to:"/tablets",className:k,children:"Tablets"}),Object(f.jsx)(r.b,{to:"/accessories",className:k,children:"Accessories"})]})},B=c(26),M=c.n(B);function A(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(u.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}!function(e){e.Sort="sort",e.Page="page",e.PerPage="perPage",e.Query="query"}(S||(S={}));c(38);var F=function(){var e=Object(i.n)().pathname.slice(1),t=Object(r.e)(),c=Object(u.a)(t,2),a=c[0],s=c[1],n=a.get(S.Query)||"",o=Object(j.useState)(n),l=Object(u.a)(o,2),d=l[0],b=l[1],O=function(e){var t=A(a,e);s(t)},m=Object(j.useCallback)(M()((function(e){O({query:e||null})}),1e3),[]);return Object(f.jsxs)("form",{className:"Search",onSubmit:function(e){return e.preventDefault()},children:[Object(f.jsx)("input",{type:"text",placeholder:"Search in ".concat(e,"..."),className:"Search__input",value:d,onChange:function(e){b(e.target.value),m(e.target.value)}}),n?Object(f.jsx)("button",{type:"button",className:"Search__icon Search__icon--close","aria-label":"Clear",onClick:function(){b(""),O({query:null})},"data-cy":"searchDelete"}):Object(f.jsx)("span",{className:"Search__icon Search__icon--search"})]})},I=(c(39),function(){var e=Object(i.n)(),t="/phones"===e.pathname||"/tablets"===e.pathname||"/accessories"===e.pathname||"/favorites"===e.pathname,c=N().totalQuantity,a=C().favourites;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(r.c,{}),Object(f.jsxs)("header",{className:"header",children:[Object(f.jsxs)("div",{className:"header__wrapper header__wrapper--left",children:[Object(f.jsx)(D,{}),Object(f.jsx)(w,{})]}),Object(f.jsxs)("div",{className:"header__wrapper",children:[!!t&&Object(f.jsx)(F,{},e.pathname),Object(f.jsx)(r.b,{to:"favorites",className:function(e){var t=e.isActive;return l()("icon icon--favourites",{"icon--active":t})},children:!!a.length&&Object(f.jsx)("span",{className:"icon__quantity",children:a.length})}),Object(f.jsx)(r.b,{to:"cart",className:function(e){var t=e.isActive;return l()("icon icon--cart",{"icon--active":t})},children:!!c&&Object(f.jsx)("span",{className:"icon__quantity",children:c})})]})]}),Object(f.jsx)("main",{className:"main",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(i.a,{})})}),Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsx)("div",{className:"footer__logo",children:Object(f.jsx)(D,{})}),Object(f.jsxs)("div",{className:"footer__link-wrapper",children:[Object(f.jsx)("a",{href:"https://github.com/akozlovska/react_phone-catalog",target:"_blank",rel:"noreferrer",className:"footer__link",children:"Github"}),Object(f.jsx)(r.a,{to:"/contacts",className:"footer__link",children:"Contacts"}),Object(f.jsx)(r.a,{to:"/rights",className:"footer__link",children:"Rights"})]}),Object(f.jsxs)("div",{className:"footer__button-wrapper",children:[Object(f.jsx)("p",{className:"footer__button-text",children:"Back to top"}),Object(f.jsx)("button",{type:"button",className:"button button--arrow-up","aria-label":"Back to top",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}})]})]})]})}),q=(c(40),function(e){var t=e.category,c=e.product;return Object(f.jsxs)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:[Object(f.jsx)(r.a,{to:"/",className:"Breadcrumbs__item Breadcrumbs__item--home"}),c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(r.a,{to:"/".concat(t),className:"Breadcrumbs__item",children:t}),Object(f.jsx)("p",{className:"Breadcrumbs__item Breadcrumbs__item--text",children:c})]}):Object(f.jsx)("p",{className:"Breadcrumbs__item Breadcrumbs__item--text",children:t})]})}),E=(c(41),function(){return Object(f.jsx)("div",{className:"Loader",children:Object(f.jsx)("div",{className:"Loader__content"})})}),L=function(e){var t=e.category;return Object(f.jsx)("h1",{children:"".concat(t," not found")})},R=(c(42),function(e){var t=e.product,c=N(),a=c.cart,s=c.setCart,n=Object(j.useMemo)((function(){return!!a.find((function(e){return e.product.id===t.id}))}),[a]);return Object(f.jsx)("button",{type:"button",className:l()("CartButton",{"CartButton--added":n}),onClick:function(e){if(e.preventDefault(),n){var c,r=null===(c=a.find((function(e){return e.product.id===t.id})))||void 0===c?void 0:c.id;void 0!==r&&s(p(a,r))}else s(function(e,t){var c={id:e.length?Math.max.apply(Math,Object(O.a)(e.map((function(e){return e.id}))))+1:0,quantity:1,product:t};return[].concat(Object(O.a)(e),[c])}(a,t))},children:n?"Added to cart":"Add to cart"})}),T=(c(43),function(e){var t=e.product,c=C(),a=c.favourites,s=c.setFavourites,n=Object(j.useMemo)((function(){return!!a.find((function(e){return e.id===t.id}))}),[a]);return Object(f.jsx)("button",{type:"button","aria-label":"Add to favourites",className:l()("FavouritesButton",{"FavouritesButton--selected":n}),onClick:function(e){e.preventDefault(),s(n?a.filter((function(e){return e.id!==t.id})):[].concat(Object(O.a)(a),[t]))},"data-cy":"addToFavorite"})}),H=(c(44),function(e){var t=e.product;return Object(f.jsx)(r.a,{to:"/".concat(t.type,"s/").concat(t.id),className:"ProductCard",children:Object(f.jsxs)("div",{className:"ProductCard__content",children:[Object(f.jsx)("div",{className:"ProductCard__image-wrapper",children:Object(f.jsx)("img",{src:t.imageUrl,alt:t.name,className:"ProductCard__image"})}),Object(f.jsx)("p",{className:"ProductCard__title",children:t.name}),Object(f.jsxs)("div",{className:"ProductCard__prices",children:[Object(f.jsx)("h2",{className:"ProductCard__new-price",children:"$".concat(m(t.price,t.discount))}),!!t.discount&&Object(f.jsx)("h2",{className:"ProductCard__old-price",children:"$".concat(t.price)})]}),Object(f.jsxs)("div",{className:"ProductCard__details",children:[Object(f.jsxs)("div",{className:"ProductCard__detail",children:[Object(f.jsx)("p",{className:"ProductCard__detail-name",children:"Screen"}),Object(f.jsx)("p",{className:"ProductCard__detail-text",children:t.screen})]}),Object(f.jsxs)("div",{className:"ProductCard__detail",children:[Object(f.jsx)("p",{className:"ProductCard__detail-name",children:"Capacity"}),Object(f.jsx)("p",{className:"ProductCard__detail-text",children:t.capacity})]}),Object(f.jsxs)("div",{className:"ProductCard__detail",children:[Object(f.jsx)("p",{className:"ProductCard__detail-name",children:"RAM"}),Object(f.jsx)("p",{className:"ProductCard__detail-text",children:t.ram})]})]}),Object(f.jsxs)("div",{className:"ProductCard__buttons",children:[Object(f.jsx)("div",{className:"ProductCard__add-button",children:Object(f.jsx)(R,{product:t})}),Object(f.jsx)("div",{className:"ProductCard__favourites-button",children:Object(f.jsx)(T,{product:t})})]})]})})}),Q=(c(45),function(e){var t=e.products;return Object(f.jsx)("div",{className:"ProductsList","data-cy":"productList",children:t.map((function(e){return Object(f.jsx)(H,{product:e},e.id)}))})}),U=function(){return Object(f.jsx)("h1",{children:"No search results"})},$=(c(46),function(e){var t=e.total,c=Object(r.e)(),a=Object(u.a)(c,2),s=a[0],n=a[1],i=+(s.get(S.Page)||1),o=s.get(S.PerPage)||"16",j="all"===o?1:Math.ceil(t/+o),d=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,j),b=function(e){if(e!==i&&e>=1&&e<=j){var t=A(s,{page:e.toString()});n(t)}};return Object(f.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(f.jsx)("button",{type:"button","aria-label":"Previous",className:"button button--prev",disabled:1===i,onClick:function(){return b(i-1)},"data-cy":"paginationLeft"}),Object(f.jsx)("ul",{className:"Pagination__pages",children:d.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return b(e)},className:l()("button",{"button--active":i===e}),children:e})},e)}))}),Object(f.jsx)("button",{type:"button","aria-label":"Next",className:"button button--next",disabled:i===j,onClick:function(){return b(i+1)},"data-cy":"paginationRight"})]})}),z=(c(47),function(e){var t=e.options,c=e.chosenOption,a=e.handleOption,s=Object(j.useState)(!1),n=Object(u.a)(s,2),r=n[0],i=n[1];return Object(f.jsxs)("div",{className:"Dropdown",children:[Object(f.jsx)("button",{type:"button",className:l()("Dropdown__button",{"Dropdown__button--focused":r}),onClick:function(){return i((function(e){return!e}))},children:c}),Object(f.jsx)("ul",{className:l()("Dropdown__list",{"Dropdown__list--visible":r}),children:t.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)("button",{type:"button",className:"Dropdown__option",onClick:function(){return function(e){a(e),i(!1)}(e)},children:e})},e)}))})]})}),J=(c(48),["4","8","16","all"]),G=function(e){var t=e.products,c=e.category,s=Object(j.useState)([]),n=Object(u.a)(s,2),i=n[0],o=n[1],l=i.length,d=Object(r.e)(),b=Object(u.a)(d,2),m=b[0],p=b[1],_=m.get(S.Sort)||"age",x=+(m.get(S.Page)||1),g=m.get(S.PerPage)||"16",v=m.get(S.Query)||"";var N=Object(j.useMemo)((function(){return function(e,t,c){if("all"===t)return Object(O.a)(e);var a=+t*c-+t,s=+t*c;return Object(O.a)(e).slice(a,s)}(i,g,x)}),[i,g,x]),P=function(e){var t=A(m,e);p(t)};return Object(j.useEffect)((function(){o(h(t,v,_))}),[t,_,v]),v&&!i.length?Object(f.jsx)(U,{}):Object(f.jsxs)("div",{className:"ProductsPage",children:[v?Object(f.jsx)("p",{className:"ProductsPage__subtitle",children:1===l?"1 result":"".concat(l," results")}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"ProductsPage__title",children:c}),Object(f.jsx)("p",{className:"ProductsPage__subtitle",children:"".concat(t.length," models")})]}),Object(f.jsxs)("div",{className:"ProductsPage__dropdowns",children:[Object(f.jsxs)("div",{className:"ProductsPage__dropdown ProductsPage__dropdown--sort",children:["Sort by",Object(f.jsx)(z,{options:Object.keys(a),chosenOption:function(e){var t=Object.entries(a).find((function(t){return Object(u.a)(t,2)[1]===e}));return t?t[0]:"Newest"}(_),handleOption:function(e){var t=function(e){var t=Object.entries(a).find((function(t){return Object(u.a)(t,1)[0]===e}));return t?t[1]:a.Newest}(e);_!==t&&P({sort:t})}})]}),Object(f.jsxs)("div",{className:"ProductsPage__dropdown ProductsPage__dropdown--page",children:["Items on page",Object(f.jsx)(z,{options:J,chosenOption:g,handleOption:function(e){g!==e&&P({perPage:e,page:"1"})}})]})]}),Object(f.jsx)("div",{className:"ProductsPage__list",children:Object(f.jsx)(Q,{products:N})}),l>=4&&Object(f.jsx)($,{total:l})]})},Y="https://mate-academy.github.io/react_phone-catalog/api";var W=function(e){return function(e){return fetch(Y+e,{method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"}).then((function(e){return e.json()}))}(e)},X=function(){var e=Object(j.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!0),n=Object(u.a)(s,2),r=n[0],i=n[1],o="Accessories";return Object(j.useEffect)((function(){W("/products.json").then((function(e){return e.filter((function(e){return"accessory"===e.type}))})).then(a).finally((function(){return i(!1)}))}),[]),Object(f.jsxs)("div",{className:"accessories",children:[Object(f.jsx)(q,{category:o}),r?Object(f.jsx)(E,{}):Object(f.jsx)(f.Fragment,{children:c.length?Object(f.jsx)(G,{products:c,category:o}):Object(f.jsx)(L,{category:o})})]})},K=(c(49),function(){var e=Object(i.p)();return Object(f.jsx)("button",{type:"button",className:"BackLink",onClick:function(){return e(-1)},"data-cy":"backButton",children:"Back"})}),V=(c(50),function(e){var t=e.item,c=N(),a=c.cart,s=c.setCart;return Object(f.jsxs)("div",{className:"CartItem",children:[Object(f.jsx)("button",{type:"button",className:"CartItem__delete","aria-label":"Delete",onClick:function(){return s(p(a,t.id))},"data-cy":"cartDeleteButton"}),Object(f.jsx)("div",{className:"CartItem__image-wrapper",children:Object(f.jsx)("img",{src:t.product.imageUrl,alt:t.product.name,className:"CartItem__image"})}),Object(f.jsx)("p",{className:"CartItem__name",children:t.product.name}),Object(f.jsxs)("div",{className:"CartItem__amount",children:[Object(f.jsx)("button",{type:"button","aria-label":"Minus 1",className:"button button--minus",disabled:1===t.quantity,onClick:function(){return s(_(a,t,"minus"))}}),Object(f.jsx)("p",{className:"CartItem__amount-number",children:t.quantity}),Object(f.jsx)("button",{type:"button","aria-label":"Plus 1",className:"button button--plus",onClick:function(){return s(_(a,t,"plus"))}})]}),Object(f.jsx)("h2",{className:"CartItem__price",children:"$".concat(m(t.product.price,t.product.discount))})]})}),Z=(c(51),c(52),function(e){var t=e.isModalActive,c=e.setIsModalActive;return Object(f.jsx)("div",{className:l()("Modal",{"Modal--active":t}),children:Object(f.jsxs)("div",{className:"Modal__content",children:[Object(f.jsx)("h1",{children:"We are sorry, but this feature is not implemented yet"}),Object(f.jsx)("button",{type:"button",className:"Modal__button",onClick:function(){return c(!1)},children:"Close"})]})})}),ee=function(){var e=N(),t=e.cart,c=e.totalQuantity,a=Object(j.useMemo)((function(){return function(e){return Object(O.a)(e).reduce((function(e,t){return e+m(t.product.price,t.product.discount)*t.quantity}),0)}(t)}),[t]),s=Object(j.useState)(!1),n=Object(u.a)(s,2),r=n[0],i=n[1];return Object(f.jsxs)("div",{className:"CartPage",children:[Object(f.jsx)(K,{}),t.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"CartPage__title",children:"Cart"}),Object(f.jsxs)("div",{className:"CartPage__wrapper",children:[Object(f.jsx)("div",{className:"CartPage__items",children:t.map((function(e){return Object(f.jsx)(V,{item:e},e.id)}))}),Object(f.jsxs)("div",{className:"CartPage__total",children:[Object(f.jsx)("h1",{className:"CartPage__total-price",children:"$".concat(a)}),Object(f.jsx)("p",{className:"CartPage__total-text","data-cy":"productQauntity",children:"Total for ".concat(c," items")}),Object(f.jsx)("button",{type:"button",className:"CartPage__checkout",onClick:function(){return i(!0)},children:"Checkout"}),Object(f.jsx)(Z,{isModalActive:r,setIsModalActive:i})]})]})]}):Object(f.jsx)("h1",{children:"Your cart is empty"})]})},te=(c(53),function(){var e=C().favourites,t=Object(r.e)(),c=Object(u.a)(t,1)[0].get("query")||"",a=Object(j.useMemo)((function(){return h(e,c)}),[e,c]),s=a.length;return Object(f.jsxs)("div",{className:"FavouritesPage",children:[Object(f.jsx)(q,{category:"Favourites"}),e.length?Object(f.jsx)(f.Fragment,{children:c?Object(f.jsx)(f.Fragment,{children:s?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{className:"FavouritesPage__text",children:1===s?"1 result":"".concat(s," results")}),Object(f.jsx)(Q,{products:a})]}):Object(f.jsx)(U,{})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{className:"FavouritesPage__title",children:"Favourites"}),Object(f.jsx)("p",{className:"FavouritesPage__text",children:1===s?"1 item":"".concat(s," items")}),Object(f.jsx)(Q,{products:a})]})}):Object(f.jsx)("h1",{children:"You have no favourites"})]})}),ce=c(28),ae=c(27),se=(c(54),[{imgUrl:"img/banner/banner-phones.png",alt:"Phones"},{imgUrl:"img/banner/banner-tablets.png",alt:"Tablets"},{imgUrl:"img/banner/banner-accessories.png",alt:"Accessories"}]),ne=function(){var e=Object(j.useState)(0),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)([]),n=Object(u.a)(s,2),r=n[0],i=n[1],o=Object(ce.a)({loop:!0},[Object(ae.a)({delay:5e3,stopOnInteraction:!1})]),d=Object(u.a)(o,2),b=d[0],O=d[1],m=null===O||void 0===O?void 0:O.plugins().autoplay,h=Object(j.useCallback)((function(){O&&(O.scrollPrev(),null===m||void 0===m||m.reset())}),[O]),p=Object(j.useCallback)((function(){O&&(O.scrollNext(),null===m||void 0===m||m.reset())}),[O]),_=Object(j.useCallback)((function(e){O&&(O.scrollTo(e),null===m||void 0===m||m.reset())}),[O]),x=Object(j.useCallback)((function(e){i(e.scrollSnapList())}),[]),g=Object(j.useCallback)((function(e){a(e.selectedScrollSnap())}),[]);return Object(j.useEffect)((function(){return O?(x(O),g(O),O.on("select",g),function(){O.off("select",g)}):function(){}}),[O,x,g]),Object(f.jsxs)("div",{className:"Banner",children:[Object(f.jsxs)("div",{className:"Banner__content",children:[Object(f.jsx)("button",{type:"button","aria-label":"Previous",className:"Banner__button Banner__button--prev",onClick:h}),Object(f.jsx)("div",{className:"Banner__viewport",ref:b,children:Object(f.jsx)("div",{className:"Banner__container",children:se.map((function(e){return Object(f.jsx)("div",{className:"Banner__slide",children:Object(f.jsx)("img",{className:"Banner__slide-image",src:e.imgUrl,alt:e.alt})},e.alt)}))})}),Object(f.jsx)("button",{type:"button","aria-label":"Next",className:"Banner__button Banner__button--next",onClick:p})]}),Object(f.jsx)("div",{className:"Banner__pagination",children:r.map((function(e,t){return Object(f.jsx)("button",{type:"button","aria-label":"Go to slide ".concat(t+1),className:l()("Banner__pagination-item",{"Banner__pagination-item--active":t===c}),onClick:function(){return _(t)}},e)}))})]})},re=(c(55),function(e){var t=e.products,c=Object(j.useState)(0),a=Object(u.a)(c,2),s=a[0],n=a[1],r=Object(j.useMemo)((function(){return 272*s+16*s}),[s]),i=Object(j.useRef)(null),o=Object(j.useState)(0),l=Object(u.a)(o,2),d=l[0],b=l[1],O=function(e,t,c){for(var a=t,s=0;a<=e;)s+=1,a+=c+t;return s}(d,272,16),m=272*O+16*(O-1);return Object(j.useEffect)((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){b(Math.floor(e.contentRect.width))}))}));return i.current&&e.observe(i.current),function(){e.disconnect()}}),[]),Object(f.jsxs)("div",{className:"ProductsSlider",ref:i,children:[Object(f.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(f.jsx)("button",{type:"button","aria-label":"Previous",className:"button button--prev",onClick:function(){n(s-O>=0?s-O:0)},disabled:!s}),Object(f.jsx)("button",{type:"button","aria-label":"Next",className:"button button--next",onClick:function(){var e=t.length-s-O;e&&n(e>O?s+O:s+e)},disabled:s===t.length-O})]}),Object(f.jsx)("div",{className:"ProductsSlider__wrapper",style:{width:m},children:Object(f.jsx)("div",{className:"ProductsSlider__content",style:{transform:"translateX(-".concat(r,"px)")},"data-cy":"cardsContainer",children:t.map((function(e){return Object(f.jsx)(H,{product:e},e.id)}))})})]})}),ie=(c(56),function(){var e=Object(j.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)([]),n=Object(u.a)(s,2),i=n[0],o=n[1],l=Object(j.useState)([]),d=Object(u.a)(l,2),b=d[0],O=d[1],h=Object(j.useMemo)((function(){return[c.filter((function(e){return"phone"===e.type})).length,c.filter((function(e){return"tablet"===e.type})).length,c.filter((function(e){return"accessory"===e.type})).length]}),[c]),p=Object(u.a)(h,3),_=p[0],x=p[1],g=p[2];return Object(j.useEffect)((function(){W("/products.json").then(a),W("/products.json").then((function(e){return e.filter((function(e){return!!e.discount})).sort((function(e,t){return t.price-m(t.price,t.discount)-(e.price-m(e.price,e.discount))}))})).then(o),W("/products.json").then((function(e){return e.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))})).then(O)}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("section",{className:"HomePage__banner",children:Object(f.jsx)(ne,{})}),Object(f.jsxs)("section",{className:"HomePage__section",children:[Object(f.jsx)("h1",{className:"HomePage__section-title",children:"Hot prices"}),Object(f.jsx)(re,{products:i})]}),Object(f.jsxs)("section",{className:"HomePage__section",children:[Object(f.jsx)("h1",{className:"HomePage__section-title",children:"Shop by category"}),Object(f.jsxs)("div",{className:"categories","data-cy":"categoryLinksContainer",children:[Object(f.jsx)("div",{className:"categories__category",children:Object(f.jsxs)(r.a,{to:"/phones",className:"categories__link",children:[Object(f.jsx)("img",{src:"./img/products/phones.png",alt:"Mobile phones",className:"categories__link-image"}),Object(f.jsx)("h3",{className:"categories__title",children:"Mobile phones"}),Object(f.jsx)("p",{className:"categories__text",children:"".concat(_," models")})]})}),Object(f.jsx)("div",{className:"categories__category",children:Object(f.jsxs)(r.a,{to:"/tablets",className:"categories__link",children:[Object(f.jsx)("img",{src:"./img/products/tablets.png",alt:"Tablets",className:"categories__link-image"}),Object(f.jsx)("h3",{className:"categories__title",children:"Tablets"}),Object(f.jsx)("p",{className:"categories__text",children:"".concat(x," models")})]})}),Object(f.jsx)("div",{className:"categories__category",children:Object(f.jsxs)(r.a,{to:"/accessories",className:"categories__link",children:[Object(f.jsx)("img",{src:"./img/products/accessories.png",alt:"Accessories",className:"categories__link-image"}),Object(f.jsx)("h3",{className:"categories__title",children:"Accessories"}),Object(f.jsx)("p",{className:"categories__text",children:"".concat(g," models")})]})})]})]}),Object(f.jsxs)("section",{className:"HomePage__section",children:[Object(f.jsx)("h1",{className:"HomePage__section-title",children:"Brand new models"}),Object(f.jsx)(re,{products:b})]})]})}),oe=(c(57),function(){return Object(f.jsx)("h1",{className:"NotFoundPage",children:"Page not found"})}),le=function(){var e=Object(j.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!0),n=Object(u.a)(s,2),r=n[0],i=n[1];return Object(j.useEffect)((function(){W("/products.json").then((function(e){return e.filter((function(e){return"phone"===e.type}))})).then(a).finally((function(){return i(!1)}))}),[]),Object(f.jsxs)("div",{className:"phones",children:[Object(f.jsx)(q,{category:"Phones"}),r?Object(f.jsx)(E,{}):Object(f.jsx)(f.Fragment,{children:c.length?Object(f.jsx)(G,{products:c,category:"Mobile phones"}):Object(f.jsx)(L,{category:"Mobile phones"})})]})},ue=(c(58),function(){var e=Object(j.useState)(null),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(null),n=Object(u.a)(s,2),r=n[0],o=n[1],d=Object(j.useState)(!0),b=Object(u.a)(d,2),h=b[0],p=b[1],_=Object(j.useState)([]),x=Object(u.a)(_,2),g=x[0],v=x[1],N=Object(j.useState)(""),P=Object(u.a)(N,2),y=P[0],C=P[1],D=Object(i.r)().productId,k=c?m(c.price,c.discount):0,S=Object(j.useMemo)((function(){return r?Object(O.a)(r.images):[]}),[r]),w=Object(j.useState)(0),B=Object(u.a)(w,2),M=B[0],A=B[1];return Object(j.useEffect)((function(){var e;D&&(function(e){return W("/products/".concat(e,".json"))}(D).then(o).finally((function(){return p(!1)})),function(e){return W("/products.json").then((function(t){return t.find((function(t){return t.id===e}))||null}))}(D).then(a)),(e=D,W("/products.json").then((function(t){return t.filter((function(t){return t.id!==e})).sort((function(){return.5-Math.random()})).slice(0,12)}))).then(v),A(0)}),[D]),Object(j.useEffect)((function(){c&&C((function(){return"accessory"===c.type?"Accessories":"".concat(c.type.slice(0,1).toUpperCase()).concat(c.type.slice(1),"s")}))}),[c]),Object(f.jsx)("div",{className:"ProductDetailsPage",children:h?Object(f.jsx)(E,{}):Object(f.jsx)(f.Fragment,{children:r&&c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(q,{category:y,product:r.name}),Object(f.jsx)(K,{}),Object(f.jsx)("h1",{className:"ProductDetailsPage__title",children:r.name}),Object(f.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__info-id",children:"ID: ".concat(D)}),Object(f.jsxs)("div",{className:"ProductDetailsPage__wrapper",children:[Object(f.jsxs)("div",{className:"ProductDetailsPage__images",children:[Object(f.jsx)("div",{className:"ProductDetailsPage__all-images",children:S.map((function(e,t){return Object(f.jsx)("button",{type:"button",className:l()("ProductDetailsPage__image-wrapper",{"ProductDetailsPage__image-wrapper--selected":t===M}),onClick:function(){return A(t)},children:Object(f.jsx)("img",{src:e,alt:r.name,className:"ProductDetailsPage__image"})},e)}))}),Object(f.jsx)("div",{className:"ProductDetailsPage__displayed-image-wrapper",children:Object(f.jsx)("img",{src:S[M],alt:r.name,className:"ProductDetailsPage__displayed-image"})})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__info",children:[Object(f.jsxs)("div",{className:"ProductDetailsPage__prices",children:[Object(f.jsx)("h1",{className:"ProductDetailsPage__new-price",children:"$".concat(k)}),!!c.discount&&Object(f.jsx)("h2",{className:"ProductDetailsPage__old-price",children:"$".concat(c.price)})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__buttons",children:[Object(f.jsx)("div",{className:"ProductDetailsPage__add-button",children:Object(f.jsx)(R,{product:c})}),Object(f.jsx)("div",{className:"ProductDetailsPage__favourites-button",children:Object(f.jsx)(T,{product:c})})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__details",children:[Object(f.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"Screen"}),Object(f.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.display.screenSize||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"Resolution"}),Object(f.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.display.screenResolution||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"Processor"}),Object(f.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.hardware.cpu||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"RAM"}),Object(f.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.storage.ram||"-"})]})]})]})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__wrapper",children:[Object(f.jsxs)("div",{className:"ProductDetailsPage__about","data-cy":"productDescription",children:[Object(f.jsx)("h2",{className:"ProductDetailsPage__about-title",children:"About"}),Object(f.jsx)("p",{className:"ProductDetailsPage__about-text",children:r.description})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__specs",children:[Object(f.jsx)("h2",{className:"ProductDetailsPage__specs-title",children:"Tech specs"}),Object(f.jsxs)("div",{className:"ProductDetailsPage__specs-wrapper",children:[Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Screen"}),Object(f.jsx)("p",{children:r.display.screenSize||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Resolution"}),Object(f.jsx)("p",{children:r.display.screenResolution||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Processor"}),Object(f.jsx)("p",{children:r.hardware.cpu||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"RAM"}),Object(f.jsx)("p",{children:r.storage.ram||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Built in memory"}),Object(f.jsx)("p",{children:r.storage.flash||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Camera"}),Object(f.jsx)("p",{children:r.camera.primary||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Android OS"}),Object(f.jsx)("p",{children:r.android.os||"-"})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(f.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Bluetooth"}),Object(f.jsx)("p",{children:r.connectivity.bluetooth||"-"})]})]})]})]})]}),Object(f.jsxs)("div",{className:"ProductDetailsPage__suggested",children:[Object(f.jsx)("h1",{className:"ProductDetailsPage__suggested-title",children:"You may also like"}),Object(f.jsx)(re,{products:g})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(K,{}),Object(f.jsx)("h1",{children:"Product was not found"})]})})})}),je=function(){var e=Object(j.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],s=Object(j.useState)(!0),n=Object(u.a)(s,2),r=n[0],i=n[1],o="Tablets";return Object(j.useEffect)((function(){W("/products.json").then((function(e){return e.filter((function(e){return"tablet"===e.type}))})).then(a).finally((function(){return i(!1)}))}),[]),Object(f.jsxs)("div",{className:"tablets",children:[Object(f.jsx)(q,{category:o}),r?Object(f.jsx)(E,{}):Object(f.jsx)(f.Fragment,{children:c.length?Object(f.jsx)(G,{products:c,category:o}):Object(f.jsx)(L,{category:o})})]})},de=Object(r.d)(Object(i.k)(Object(f.jsxs)(i.b,{path:"/",element:Object(f.jsx)(I,{}),children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(ie,{})}),Object(f.jsxs)(i.b,{path:"phones",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(le,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ue,{})})]}),Object(f.jsxs)(i.b,{path:"tablets",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(je,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ue,{})})]}),Object(f.jsxs)(i.b,{path:"accessories",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(X,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ue,{})})]}),Object(f.jsx)(i.b,{path:"cart",element:Object(f.jsx)(ee,{})}),Object(f.jsx)(i.b,{path:"favorites",element:Object(f.jsx)(te,{})}),Object(f.jsx)(i.b,{path:"*",element:Object(f.jsx)(oe,{})})]}))),be=function(){return Object(f.jsx)(v,{children:Object(f.jsx)(y,{children:Object(f.jsx)(i.d,{router:de})})})};c(59);n.a.render(Object(f.jsx)(be,{}),document.getElementById("root"))}]),[[60,1,2]]]);
//# sourceMappingURL=main.bac7a8c3.chunk.js.map