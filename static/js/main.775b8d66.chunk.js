(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(46).concat([function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a,s=c(32),n=c.n(s),r=c(5),i=c(4),o=c(3),l=c(1),u=c.n(l),j=c(9),d=c.n(j),b=c(74),O=c(73),m=c(30),h=c(7);function _(e,t){return t?e-e*(t/100):e}function x(e,t,c){var s=Object(h.a)(e);if(t&&(s=s.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))),c)switch(c){case a.Alphabetically:s.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case a.Cheapest:s.sort((function(e,t){return e.price-t.price}));break;default:case a.Newest:s.sort((function(e,t){return e.age-t.age}))}return s}function p(e,t){return e.filter((function(e){return e.id!==t}))}function f(e,t,c){var a;switch(c){case"minus":a=t.quantity-1;break;case"plus":a=t.quantity+1;break;default:a=1}var s=Object(m.a)(Object(m.a)({},t),{},{quantity:a}),n=Object(h.a)(e),r=n.findIndex((function(e){return e.id===t.id}));return n.splice(r,1,s),n}function g(e,t){var c=Object(l.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(a){return localStorage.removeItem(e),t}})),a=Object(o.a)(c,2),s=a[0],n=a[1];return[s,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}!function(e){e.Newest="age",e.Alphabetically="name",e.Cheapest="price"}(a||(a={}));var N=c(0),v=u.a.createContext({cart:[],setCart:function(){},totalQuantity:0}),P=function(e){var t=e.children,c=g("cart",[]),a=Object(o.a)(c,2),s=a[0],n=a[1],r=Object(l.useMemo)((function(){return function(e){return Object(h.a)(e).reduce((function(e,t){return e+t.quantity}),0)}(s)}),[s]),i=Object(l.useMemo)((function(){return{cart:s,setCart:n,totalQuantity:r}}),[s]);return Object(N.jsx)(v.Provider,{value:i,children:t})};function y(){return Object(l.useContext)(v)}var C=u.a.createContext({favourites:[],setFavourites:function(){}}),k=function(e){var t=e.children,c=g("favourites",[]),a=Object(o.a)(c,2),s=a[0],n=a[1],r=Object(l.useMemo)((function(){return{favourites:s,setFavourites:n}}),[s]);return Object(N.jsx)(C.Provider,{value:r,children:t})};function D(){return Object(l.useContext)(C)}c(46);var S=function(){return Object(N.jsx)(r.b,{to:"/",className:"Logo",children:Object(N.jsx)("img",{src:"./img/logo.svg",alt:"Logo"})})};c(48);function w(e){var t=e.isActive;return d()("Navbar__link",{"Navbar__link--active":t})}var B,M=function(){return Object(N.jsxs)("nav",{className:"Navbar",children:[Object(N.jsx)(r.b,{to:"/",className:w,children:"Home"}),Object(N.jsx)(r.b,{to:"/phones",className:w,children:"Phones"}),Object(N.jsx)(r.b,{to:"/tablets",className:w,children:"Tablets"}),Object(N.jsx)(r.b,{to:"/accessories",className:w,children:"Accessories"})]})},A=c(33),F=c.n(A);function I(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}!function(e){e.Sort="sort",e.Page="page",e.PerPage="perPage",e.Query="query"}(B||(B={}));c(49);var E=function(){var e=Object(i.n)().pathname.slice(1),t=Object(r.e)(),c=Object(o.a)(t,2),a=c[0],s=c[1],n=a.get(B.Query)||"",u=Object(l.useState)(n),j=Object(o.a)(u,2),d=j[0],b=j[1],O=function(e){var t=I(a,e);s(t)},m=Object(l.useCallback)(F()((function(e){O({query:e||null})}),1e3),[]);return Object(N.jsxs)("form",{className:"Search",onSubmit:function(e){return e.preventDefault()},children:[Object(N.jsx)("input",{type:"text",placeholder:"Search in ".concat(e,"..."),className:"Search__input",value:d,onChange:function(e){b(e.target.value),m(e.target.value)}}),n?Object(N.jsx)("button",{type:"button",className:"Search__icon Search__icon--close","aria-label":"Clear",onClick:function(){b(""),O({query:null})},"data-cy":"searchDelete"}):Object(N.jsx)("span",{className:"Search__icon Search__icon--search"})]})};c(50),c(51);function L(e){var t=e.isActive;return d()("Sidebar__link",{"Sidebar__link--active":t})}var q=function(e){var t=e.isSidebarOpen;return Object(N.jsx)("aside",{className:"Sidebar",children:Object(N.jsx)("div",{className:d()("Sidebar__window",{"Sidebar__window--visible":t}),children:Object(N.jsxs)("ul",{className:"Sidebar__links",children:[Object(N.jsx)(r.b,{to:"/",className:L,children:"Home"}),Object(N.jsx)(r.b,{to:"/phones",className:L,children:"Phones"}),Object(N.jsx)(r.b,{to:"/tablets",className:L,children:"Tablets"}),Object(N.jsx)(r.b,{to:"/accessories",className:L,children:"Accessories"}),Object(N.jsx)(r.a,{to:"https://github.com/akozlovska/react_phone-catalog",className:"Sidebar__link",target:"_blank",rel:"noreferrer",children:"Github"}),Object(N.jsx)(r.b,{to:"/contacts",className:L,children:"Contacts"}),Object(N.jsx)(r.b,{to:"/rights",className:L,children:"Rights"})]})})})},R=function(){var e=Object(i.n)(),t=Object(l.useMemo)((function(){return"/phones"===e.pathname||"/tablets"===e.pathname||"/accessories"===e.pathname||"/favorites"===e.pathname}),[e.pathname]),c=Object(l.useState)(!1),a=Object(o.a)(c,2),s=a[0],n=a[1],u=Object(l.useState)(!1),j=Object(o.a)(u,2),m=j[0],h=j[1],_=y().totalQuantity,x=D().favourites;return Object(l.useEffect)((function(){h(!1),n(!1)}),[e.pathname]),Object(l.useEffect)((function(){m?document.body.classList.add("lock-scroll"):document.body.classList.remove("lock-scroll")}),[m]),Object(l.useEffect)((function(){s&&document.querySelector(".Search__input").focus()}),[s]),Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(r.c,{}),Object(N.jsxs)("header",{className:"header header--desktop",children:[Object(N.jsxs)("div",{className:"header__wrapper header__wrapper--left",children:[Object(N.jsx)(S,{}),Object(N.jsx)("div",{className:"header__nav",children:Object(N.jsx)(M,{})})]}),Object(N.jsxs)("div",{className:"header__wrapper",children:[!!t&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"search",children:Object(N.jsx)(E,{},e.pathname)}),Object(N.jsx)("button",{type:"button","aria-label":"Search",className:"icon icon--search",onClick:function(){n((function(e){return!e})),h(!1)}})]}),Object(N.jsx)(r.b,{to:"favorites",className:function(e){var t=e.isActive;return d()("icon icon--favourites",{"icon--active":t})},children:!!x.length&&Object(N.jsx)("span",{className:"icon__quantity",children:x.length})}),Object(N.jsx)(r.b,{to:"cart",className:function(e){var t=e.isActive;return d()("icon icon--cart",{"icon--active":t})},children:!!_&&Object(N.jsx)("span",{className:"icon__quantity",children:_})}),Object(N.jsx)("button",{className:"icon icon--menu",type:"button","aria-label":"menu",onClick:function(){return h((function(e){return!e}))},children:Object(N.jsxs)("div",{className:"icon__lines",children:[Object(N.jsx)("span",{className:"icon__line"}),Object(N.jsx)("span",{className:d()("icon__line",{"icon__line--short":m})}),Object(N.jsx)("span",{className:"icon__line"})]})}),Object(N.jsx)(b.a,{children:s&&Object(N.jsx)(O.a,{timeout:300,classNames:"search-small",children:Object(N.jsx)("div",{className:"search search--small",children:Object(N.jsx)(E,{})})},0)})]})]}),Object(N.jsx)(q,{isSidebarOpen:m}),Object(N.jsx)("main",{className:"main",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(i.a,{})})}),Object(N.jsxs)("footer",{className:"footer",children:[Object(N.jsx)("div",{className:"footer__logo",children:Object(N.jsx)(S,{})}),Object(N.jsxs)("div",{className:"footer__link-wrapper",children:[Object(N.jsx)(r.a,{to:"https://github.com/akozlovska/react_phone-catalog",target:"_blank",rel:"noreferrer",className:"footer__link",children:"Github"}),Object(N.jsx)(r.a,{to:"/contacts",className:"footer__link",children:"Contacts"}),Object(N.jsx)(r.a,{to:"/rights",className:"footer__link",children:"Rights"})]}),Object(N.jsxs)("div",{className:"footer__button-wrapper",children:[Object(N.jsx)("p",{className:"footer__button-text",children:"Back to top"}),Object(N.jsx)("button",{type:"button",className:"button button--arrow-up","aria-label":"Back to top",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}})]})]})]})},T=(c(52),function(e){var t=e.category,c=e.product;return Object(N.jsxs)("div",{className:"Breadcrumbs","data-cy":"breadCrumbs",children:[Object(N.jsx)(r.a,{to:"/",className:"Breadcrumbs__item Breadcrumbs__item--home"}),c?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(r.a,{to:"/".concat(t),className:"Breadcrumbs__item",children:t}),Object(N.jsx)("p",{className:"Breadcrumbs__item Breadcrumbs__item--text",children:c})]}):Object(N.jsx)("p",{className:"Breadcrumbs__item Breadcrumbs__item--text",children:t})]})}),H=(c(53),function(){return Object(N.jsx)("div",{className:"Loader",children:Object(N.jsx)("div",{className:"Loader__content"})})}),Q=function(e){var t=e.category;return Object(N.jsx)("h1",{children:"".concat(t," not found")})},U=(c(54),function(e){var t=e.product,c=y(),a=c.cart,s=c.setCart,n=Object(l.useMemo)((function(){return!!a.find((function(e){return e.product.id===t.id}))}),[a]);return Object(N.jsx)("button",{type:"button",className:d()("CartButton",{"CartButton--added":n}),onClick:function(e){if(e.preventDefault(),n){var c,r=null===(c=a.find((function(e){return e.product.id===t.id})))||void 0===c?void 0:c.id;void 0!==r&&s(p(a,r))}else s(function(e,t){var c={id:e.length?Math.max.apply(Math,Object(h.a)(e.map((function(e){return e.id}))))+1:0,quantity:1,product:t};return[].concat(Object(h.a)(e),[c])}(a,t))},children:n?"Added to cart":"Add to cart"})}),$=(c(55),function(e){var t=e.product,c=D(),a=c.favourites,s=c.setFavourites,n=Object(l.useMemo)((function(){return!!a.find((function(e){return e.id===t.id}))}),[a]);return Object(N.jsx)("button",{type:"button","aria-label":"Add to favourites",className:d()("FavouritesButton",{"FavouritesButton--selected":n}),onClick:function(e){e.preventDefault(),s(n?a.filter((function(e){return e.id!==t.id})):[].concat(Object(h.a)(a),[t]))},"data-cy":"addToFavorite"})}),z=(c(56),function(e){var t=e.product;return Object(N.jsx)(r.a,{to:"/".concat(t.type,"s/").concat(t.id),className:"ProductCard",children:Object(N.jsxs)("div",{className:"ProductCard__content",children:[Object(N.jsx)("div",{className:"ProductCard__image-wrapper",children:Object(N.jsx)("img",{src:t.imageUrl,alt:t.name,className:"ProductCard__image"})}),Object(N.jsx)("p",{className:"ProductCard__title",children:t.name}),Object(N.jsxs)("div",{className:"ProductCard__prices",children:[Object(N.jsx)("h2",{className:"ProductCard__new-price",children:"$".concat(_(t.price,t.discount))}),!!t.discount&&Object(N.jsx)("h2",{className:"ProductCard__old-price",children:"$".concat(t.price)})]}),Object(N.jsxs)("div",{className:"ProductCard__details",children:[Object(N.jsxs)("div",{className:"ProductCard__detail",children:[Object(N.jsx)("p",{className:"ProductCard__detail-name",children:"Screen"}),Object(N.jsx)("p",{className:"ProductCard__detail-text",children:t.screen||"-"})]}),Object(N.jsxs)("div",{className:"ProductCard__detail",children:[Object(N.jsx)("p",{className:"ProductCard__detail-name",children:"Capacity"}),Object(N.jsx)("p",{className:"ProductCard__detail-text",children:t.capacity||"-"})]}),Object(N.jsxs)("div",{className:"ProductCard__detail",children:[Object(N.jsx)("p",{className:"ProductCard__detail-name",children:"RAM"}),Object(N.jsx)("p",{className:"ProductCard__detail-text",children:t.ram||"-"})]})]}),Object(N.jsxs)("div",{className:"ProductCard__buttons",children:[Object(N.jsx)("div",{className:"ProductCard__add-button",children:Object(N.jsx)(U,{product:t})}),Object(N.jsx)("div",{className:"ProductCard__favourites-button",children:Object(N.jsx)($,{product:t})})]})]})})}),G=(c(57),function(e){var t=e.products;return Object(N.jsx)("div",{className:"ProductsList","data-cy":"productList",children:t.map((function(e){return Object(N.jsx)(z,{product:e},e.id)}))})}),J=function(){return Object(N.jsx)("h1",{children:"No search results"})},Y=(c(58),function(e){var t=e.total,c=Object(r.e)(),a=Object(o.a)(c,2),s=a[0],n=a[1],i=+(s.get(B.Page)||1),l=s.get(B.PerPage)||"16",u="all"===l?1:Math.ceil(t/+l),j=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,u),b=function(e){if(e!==i&&e>=1&&e<=u){var t=I(s,{page:e.toString()});n(t)}};return Object(N.jsxs)("div",{className:"Pagination","data-cy":"pagination",children:[Object(N.jsx)("button",{type:"button","aria-label":"Previous",className:"button button--prev",disabled:1===i,onClick:function(){return b(i-1)},"data-cy":"paginationLeft"}),Object(N.jsx)("ul",{className:"Pagination__pages",children:j.map((function(e){return Object(N.jsx)("li",{children:Object(N.jsx)("button",{type:"button",onClick:function(){return b(e)},className:d()("button button--page",{"button--active":i===e}),children:e})},e)}))}),Object(N.jsx)("button",{type:"button","aria-label":"Next",className:"button button--next",disabled:i===u,onClick:function(){return b(i+1)},"data-cy":"paginationRight"})]})}),W=(c(59),function(e){var t=e.options,c=e.chosenOption,a=e.handleOption,s=Object(l.useState)(!1),n=Object(o.a)(s,2),r=n[0],i=n[1];return Object(N.jsxs)("div",{className:"Dropdown",children:[Object(N.jsx)("button",{type:"button",className:d()("Dropdown__button",{"Dropdown__button--focused":r}),onClick:function(){return i((function(e){return!e}))},children:c}),Object(N.jsx)("ul",{className:d()("Dropdown__list",{"Dropdown__list--visible":r}),children:t.map((function(e){return Object(N.jsx)("li",{children:Object(N.jsx)("button",{type:"button",className:"Dropdown__option",onClick:function(){return function(e){a(e),i(!1)}(e)},children:e})},e)}))})]})}),X=(c(60),["4","8","16","all"]),K=function(e){var t=e.products,c=e.category,s=Object(l.useState)([]),n=Object(o.a)(s,2),i=n[0],u=n[1],j=i.length,d=Object(r.e)(),b=Object(o.a)(d,2),O=b[0],m=b[1],_=O.get(B.Sort)||"age",p=+(O.get(B.Page)||1),f=O.get(B.PerPage)||"16",g=O.get(B.Query)||"";var v=Object(l.useMemo)((function(){return function(e,t,c){if("all"===t)return Object(h.a)(e);var a=+t*c-+t,s=+t*c;return Object(h.a)(e).slice(a,s)}(i,f,p)}),[i,f,p]),P=function(e){var t=I(O,e);m(t)};return Object(l.useEffect)((function(){u(x(t,g,_))}),[t,_,g]),g&&!i.length?Object(N.jsx)(J,{}):Object(N.jsxs)("div",{className:"ProductsPage",children:[g?Object(N.jsx)("p",{className:"ProductsPage__subtitle",children:1===j?"1 result":"".concat(j," results")}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{className:"ProductsPage__title",children:c}),Object(N.jsx)("p",{className:"ProductsPage__subtitle",children:"".concat(t.length," models")})]}),Object(N.jsxs)("div",{className:"ProductsPage__dropdowns",children:[Object(N.jsxs)("div",{className:"ProductsPage__dropdown ProductsPage__dropdown--sort",children:["Sort by",Object(N.jsx)(W,{options:Object.keys(a),chosenOption:function(e){var t=Object.entries(a).find((function(t){return Object(o.a)(t,2)[1]===e}));return t?t[0]:"Newest"}(_),handleOption:function(e){var t=function(e){var t=Object.entries(a).find((function(t){return Object(o.a)(t,1)[0]===e}));return t?t[1]:a.Newest}(e);_!==t&&P({sort:t})}})]}),Object(N.jsxs)("div",{className:"ProductsPage__dropdown ProductsPage__dropdown--page",children:["Items on page",Object(N.jsx)(W,{options:X,chosenOption:f,handleOption:function(e){f!==e&&P({perPage:e,page:"1"})}})]})]}),Object(N.jsx)("div",{className:"ProductsPage__list",children:Object(N.jsx)(G,{products:v})}),j>=4&&Object(N.jsx)(Y,{total:j})]})},V="https://mate-academy.github.io/react_phone-catalog/api";var Z=function(e){return function(e){return fetch(V+e,{method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"}).then((function(e){return e.json()}))}(e)},ee=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(!0),n=Object(o.a)(s,2),r=n[0],i=n[1],u="Accessories";return Object(l.useEffect)((function(){Z("/products.json").then((function(e){return e.filter((function(e){return"accessory"===e.type}))})).then(a).finally((function(){return i(!1)}))}),[]),Object(N.jsxs)("div",{className:"accessories",children:[Object(N.jsx)(T,{category:u}),r?Object(N.jsx)(H,{}):Object(N.jsx)(N.Fragment,{children:c.length?Object(N.jsx)(K,{products:c,category:u}):Object(N.jsx)(Q,{category:u})})]})},te=(c(61),function(){var e=Object(i.p)();return Object(N.jsx)("button",{type:"button",className:"BackLink",onClick:function(){return e(-1)},"data-cy":"backButton",children:"Back"})}),ce=(c(62),function(e){var t=e.item,c=y(),a=c.cart,s=c.setCart;return Object(N.jsxs)("div",{className:"CartItem",children:[Object(N.jsx)("button",{type:"button",className:"CartItem__delete","aria-label":"Delete",onClick:function(){return s(p(a,t.id))},"data-cy":"cartDeleteButton"}),Object(N.jsx)("div",{className:"CartItem__image-wrapper",children:Object(N.jsx)("img",{src:t.product.imageUrl,alt:t.product.name,className:"CartItem__image"})}),Object(N.jsx)("p",{className:"CartItem__name",children:t.product.name}),Object(N.jsxs)("div",{className:"CartItem__amount",children:[Object(N.jsx)("button",{type:"button","aria-label":"Minus 1",className:"button button--minus",disabled:1===t.quantity,onClick:function(){return s(f(a,t,"minus"))}}),Object(N.jsx)("p",{className:"CartItem__amount-number",children:t.quantity}),Object(N.jsx)("button",{type:"button","aria-label":"Plus 1",className:"button button--plus",onClick:function(){return s(f(a,t,"plus"))}})]}),Object(N.jsx)("h2",{className:"CartItem__price",children:"$".concat(_(t.product.price,t.product.discount))})]})}),ae=(c(63),c(64),function(e){var t=e.isModalActive,c=e.setIsModalActive;return Object(N.jsx)("div",{className:d()("Modal",{"Modal--active":t}),children:Object(N.jsxs)("div",{className:"Modal__content",children:[Object(N.jsx)("h2",{children:"Error"}),Object(N.jsx)("h3",{className:"Modal__text",children:"We are sorry, but this feature is not implemented yet"}),Object(N.jsx)("button",{type:"button",className:"Modal__close","aria-label":"Delete",onClick:function(){return c(!1)}}),Object(N.jsx)("button",{type:"button",className:"Modal__button",onClick:function(){return c(!1)},children:"Close"})]})})}),se=function(){var e=y(),t=e.cart,c=e.totalQuantity,a=Object(l.useMemo)((function(){return function(e){return Object(h.a)(e).reduce((function(e,t){return e+_(t.product.price,t.product.discount)*t.quantity}),0)}(t)}),[t]),s=Object(l.useState)(!1),n=Object(o.a)(s,2),r=n[0],i=n[1];return Object(l.useEffect)((function(){r?document.body.classList.add("lock-scroll"):document.body.classList.remove("lock-scroll")}),[r]),Object(N.jsxs)("div",{className:"CartPage",children:[Object(N.jsx)(te,{}),t.length?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{className:"CartPage__title",children:"Cart"}),Object(N.jsxs)("div",{className:"CartPage__wrapper",children:[Object(N.jsx)("div",{className:"CartPage__items",children:t.map((function(e){return Object(N.jsx)(ce,{item:e},e.id)}))}),Object(N.jsxs)("div",{className:"CartPage__total",children:[Object(N.jsx)("h1",{className:"CartPage__total-price",children:"$".concat(a)}),Object(N.jsx)("p",{className:"CartPage__total-text","data-cy":"productQauntity",children:1===c?"Total for 1 item":"Total for ".concat(c," items")}),Object(N.jsx)("button",{type:"button",className:"CartPage__checkout",onClick:function(){return i(!0)},children:"Checkout"}),Object(N.jsx)(ae,{isModalActive:r,setIsModalActive:i})]})]})]}):Object(N.jsx)("h1",{children:"Your cart is empty"})]})},ne=(c(65),function(){var e=D().favourites,t=Object(r.e)(),c=Object(o.a)(t,1)[0].get("query")||"",a=Object(l.useMemo)((function(){return x(e,c)}),[e,c]),s=a.length;return Object(N.jsxs)("div",{className:"FavouritesPage",children:[Object(N.jsx)(T,{category:"Favourites"}),e.length?Object(N.jsx)(N.Fragment,{children:c?Object(N.jsx)(N.Fragment,{children:s?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("p",{className:"FavouritesPage__text",children:1===s?"1 result":"".concat(s," results")}),Object(N.jsx)(G,{products:a})]}):Object(N.jsx)(J,{})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{className:"FavouritesPage__title",children:"Favourites"}),Object(N.jsx)("p",{className:"FavouritesPage__text",children:1===s?"1 item":"".concat(s," items")}),Object(N.jsx)(G,{products:a})]})}):Object(N.jsx)("h1",{children:"You have no favourites"})]})}),re=c(35),ie=c(34),oe=(c(66),[{imgUrl:"img/banner/banner-phones.png",alt:"Phones"},{imgUrl:"img/banner/banner-tablets.png",alt:"Tablets"},{imgUrl:"img/banner/banner-accessories.png",alt:"Accessories"}]),le=function(){var e=Object(l.useState)(0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)([]),n=Object(o.a)(s,2),r=n[0],i=n[1],u=Object(re.a)({loop:!0},[Object(ie.a)({delay:5e3,stopOnInteraction:!1})]),j=Object(o.a)(u,2),b=j[0],O=j[1],m=null===O||void 0===O?void 0:O.plugins().autoplay,h=Object(l.useCallback)((function(){O&&(O.scrollPrev(),null===m||void 0===m||m.reset())}),[O]),_=Object(l.useCallback)((function(){O&&(O.scrollNext(),null===m||void 0===m||m.reset())}),[O]),x=Object(l.useCallback)((function(e){O&&(O.scrollTo(e),null===m||void 0===m||m.reset())}),[O]),p=Object(l.useCallback)((function(e){i(e.scrollSnapList())}),[]),f=Object(l.useCallback)((function(e){a(e.selectedScrollSnap())}),[]);return Object(l.useEffect)((function(){return O?(p(O),f(O),O.on("select",f),function(){O.off("select",f)}):function(){}}),[O,p,f]),Object(N.jsxs)("div",{className:"Banner",children:[Object(N.jsxs)("div",{className:"Banner__content",children:[Object(N.jsx)("button",{type:"button","aria-label":"Previous",className:"Banner__button Banner__button--prev",onClick:h}),Object(N.jsx)("div",{className:"Banner__viewport",ref:b,children:Object(N.jsx)("div",{className:"Banner__container",children:oe.map((function(e){return Object(N.jsx)("div",{className:"Banner__slide",children:Object(N.jsx)("img",{className:"Banner__slide-image",src:e.imgUrl,alt:e.alt})},e.alt)}))})}),Object(N.jsx)("button",{type:"button","aria-label":"Next",className:"Banner__button Banner__button--next",onClick:_})]}),Object(N.jsx)("div",{className:"Banner__pagination",children:r.map((function(e,t){return Object(N.jsx)("button",{type:"button","aria-label":"Go to slide ".concat(t+1),className:d()("Banner__pagination-item",{"Banner__pagination-item--active":t===c}),onClick:function(){return x(t)}},e)}))})]})},ue=(c(67),function(e){var t=e.products,c=Object(l.useState)(0),a=Object(o.a)(c,2),s=a[0],n=a[1],r=Object(l.useMemo)((function(){return 272*s+16*s}),[s]),i=Object(l.useRef)(null),u=Object(l.useState)(0),j=Object(o.a)(u,2),d=j[0],b=j[1],O=function(e,t,c){for(var a=t,s=0;a<=e;)s+=1,a+=c+t;return s}(d,272,16),m=272*O+16*(O-1);return Object(l.useEffect)((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){b(Math.floor(e.contentRect.width))}))}));return i.current&&e.observe(i.current),function(){e.disconnect()}}),[]),Object(N.jsxs)("div",{className:"ProductsSlider",ref:i,children:[Object(N.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(N.jsx)("button",{type:"button","aria-label":"Previous",className:"button button--prev",onClick:function(){n(s-O>=0?s-O:0)},disabled:!s}),Object(N.jsx)("button",{type:"button","aria-label":"Next",className:"button button--next",onClick:function(){var e=t.length-s-O;e&&n(e>O?s+O:s+e)},disabled:s===t.length-O})]}),Object(N.jsx)("div",{className:"ProductsSlider__wrapper",style:{width:m},children:Object(N.jsx)("div",{className:"ProductsSlider__content",style:{transform:"translateX(-".concat(r,"px)")},"data-cy":"cardsContainer",children:t.map((function(e){return Object(N.jsx)(z,{product:e},e.id)}))})})]})}),je=(c(68),function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)([]),n=Object(o.a)(s,2),i=n[0],u=n[1],j=Object(l.useState)([]),d=Object(o.a)(j,2),b=d[0],O=d[1],m=Object(l.useMemo)((function(){return[c.filter((function(e){return"phone"===e.type})).length,c.filter((function(e){return"tablet"===e.type})).length,c.filter((function(e){return"accessory"===e.type})).length]}),[c]),h=Object(o.a)(m,3),x=h[0],p=h[1],f=h[2];return Object(l.useEffect)((function(){Z("/products.json").then(a),Z("/products.json").then((function(e){return e.filter((function(e){return!!e.discount})).sort((function(e,t){return t.price-_(t.price,t.discount)-(e.price-_(e.price,e.discount))}))})).then(u),Z("/products.json").then((function(e){return e.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))})).then(O)}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"HomePage__banner",children:Object(N.jsx)(le,{})}),Object(N.jsxs)("section",{className:"HomePage__section",children:[Object(N.jsx)("h1",{className:"HomePage__section-title",children:"Hot prices"}),Object(N.jsx)(ue,{products:i})]}),Object(N.jsxs)("section",{className:"HomePage__section",children:[Object(N.jsx)("h1",{className:"HomePage__section-title",children:"Shop by category"}),Object(N.jsxs)("div",{className:"categories","data-cy":"categoryLinksContainer",children:[Object(N.jsx)("div",{className:"categories__category",children:Object(N.jsxs)(r.a,{to:"/phones",className:"categories__link",children:[Object(N.jsx)("img",{src:"./img/products/phones.png",alt:"Mobile phones",className:"categories__link-image"}),Object(N.jsx)("h3",{className:"categories__title",children:"Mobile phones"}),Object(N.jsx)("p",{className:"categories__text",children:"".concat(x," models")})]})}),Object(N.jsx)("div",{className:"categories__category",children:Object(N.jsxs)(r.a,{to:"/tablets",className:"categories__link",children:[Object(N.jsx)("img",{src:"./img/products/tablets.png",alt:"Tablets",className:"categories__link-image"}),Object(N.jsx)("h3",{className:"categories__title",children:"Tablets"}),Object(N.jsx)("p",{className:"categories__text",children:"".concat(p," models")})]})}),Object(N.jsx)("div",{className:"categories__category",children:Object(N.jsxs)(r.a,{to:"/accessories",className:"categories__link",children:[Object(N.jsx)("img",{src:"./img/products/accessories.png",alt:"Accessories",className:"categories__link-image"}),Object(N.jsx)("h3",{className:"categories__title",children:"Accessories"}),Object(N.jsx)("p",{className:"categories__text",children:"".concat(f," models")})]})})]})]}),Object(N.jsxs)("section",{className:"HomePage__section",children:[Object(N.jsx)("h1",{className:"HomePage__section-title",children:"Brand new models"}),Object(N.jsx)(ue,{products:b})]})]})}),de=(c(69),function(){return Object(N.jsx)("h1",{className:"NotFoundPage",children:"Page not found"})}),be=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(!0),n=Object(o.a)(s,2),r=n[0],i=n[1];return Object(l.useEffect)((function(){Z("/products.json").then((function(e){return e.filter((function(e){return"phone"===e.type}))})).then(a).finally((function(){return i(!1)}))}),[]),Object(N.jsxs)("div",{className:"phones",children:[Object(N.jsx)(T,{category:"Phones"}),r?Object(N.jsx)(H,{}):Object(N.jsx)(N.Fragment,{children:c.length?Object(N.jsx)(K,{products:c,category:"Mobile phones"}):Object(N.jsx)(Q,{category:"Mobile phones"})})]})},Oe=(c(70),function(){var e=Object(l.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(null),n=Object(o.a)(s,2),r=n[0],u=n[1],j=Object(l.useState)(!0),m=Object(o.a)(j,2),x=m[0],p=m[1],f=Object(l.useState)([]),g=Object(o.a)(f,2),v=g[0],P=g[1],y=Object(l.useState)(""),C=Object(o.a)(y,2),k=C[0],D=C[1],S=Object(i.r)().productId,w=c?_(c.price,c.discount):0,B=Object(l.useMemo)((function(){return r?Object(h.a)(r.images):[]}),[r]),M=Object(l.useState)(0),A=Object(o.a)(M,2),F=A[0],I=A[1];return Object(l.useEffect)((function(){var e;S&&(function(e){return Z("/products/".concat(e,".json"))}(S).then(u).finally((function(){return p(!1)})),function(e){return Z("/products.json").then((function(t){return t.find((function(t){return t.id===e}))||null}))}(S).then(a)),(e=S,Z("/products.json").then((function(t){return t.filter((function(t){return t.id!==e})).sort((function(){return.5-Math.random()})).slice(0,12)}))).then(P),I(0)}),[S]),Object(l.useEffect)((function(){c&&D((function(){return"accessory"===c.type?"Accessories":"".concat(c.type.slice(0,1).toUpperCase()).concat(c.type.slice(1),"s")}))}),[c]),Object(N.jsx)("div",{className:"ProductDetailsPage",children:x?Object(N.jsx)(H,{}):Object(N.jsx)(N.Fragment,{children:r&&c?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{category:k,product:r.name}),Object(N.jsx)(te,{}),Object(N.jsx)("h1",{className:"ProductDetailsPage__title",children:r.name}),Object(N.jsxs)("div",{className:"ProductDetailsPage__content",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__info-id",children:"ID: ".concat(S)}),Object(N.jsxs)("div",{className:"ProductDetailsPage__wrapper",children:[Object(N.jsxs)("div",{className:"ProductDetailsPage__images",children:[Object(N.jsx)("div",{className:"ProductDetailsPage__all-images",children:B.map((function(e,t){return Object(N.jsx)("button",{type:"button",className:d()("ProductDetailsPage__image-wrapper",{"ProductDetailsPage__image-wrapper--selected":t===F}),onClick:function(){return I(t)},children:Object(N.jsx)("img",{src:e,alt:r.name,className:"ProductDetailsPage__image"})},e)}))}),Object(N.jsx)("div",{className:"ProductDetailsPage__displayed-image-wrapper",children:Object(N.jsx)(b.a,{component:null,children:Object(N.jsx)(O.a,{timeout:300,classNames:"slide",children:Object(N.jsx)("img",{src:B[F],alt:r.name,className:"ProductDetailsPage__displayed-image"})},F)})})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__info",children:[Object(N.jsxs)("div",{className:"ProductDetailsPage__prices",children:[Object(N.jsx)("h1",{className:"ProductDetailsPage__new-price",children:"$".concat(w)}),!!c.discount&&Object(N.jsx)("h2",{className:"ProductDetailsPage__old-price",children:"$".concat(c.price)})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__buttons",children:[Object(N.jsx)("div",{className:"ProductDetailsPage__add-button",children:Object(N.jsx)(U,{product:c})}),Object(N.jsx)("div",{className:"ProductDetailsPage__favourites-button",children:Object(N.jsx)($,{product:c})})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__details",children:[Object(N.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"Screen"}),Object(N.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.display.screenSize||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"Resolution"}),Object(N.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.display.screenResolution||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"Processor"}),Object(N.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.hardware.cpu||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__detail",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__detail-name",children:"RAM"}),Object(N.jsx)("p",{className:"ProductDetailsPage__detail-text",children:r.storage.ram||"-"})]})]})]})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__wrapper",children:[Object(N.jsxs)("div",{className:"ProductDetailsPage__about","data-cy":"productDescription",children:[Object(N.jsx)("h2",{className:"ProductDetailsPage__about-title",children:"About"}),Object(N.jsx)("p",{className:"ProductDetailsPage__about-text",children:r.description})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__specs",children:[Object(N.jsx)("h2",{className:"ProductDetailsPage__specs-title",children:"Tech specs"}),Object(N.jsxs)("div",{className:"ProductDetailsPage__specs-wrapper",children:[Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Screen"}),Object(N.jsx)("p",{children:r.display.screenSize||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Resolution"}),Object(N.jsx)("p",{children:r.display.screenResolution||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Processor"}),Object(N.jsx)("p",{children:r.hardware.cpu||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"RAM"}),Object(N.jsx)("p",{children:r.storage.ram||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Built in memory"}),Object(N.jsx)("p",{children:r.storage.flash||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Camera"}),Object(N.jsx)("p",{children:r.camera.primary||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Android OS"}),Object(N.jsx)("p",{children:r.android.os||"-"})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__spec",children:[Object(N.jsx)("p",{className:"ProductDetailsPage__spec-name",children:"Bluetooth"}),Object(N.jsx)("p",{children:r.connectivity.bluetooth||"-"})]})]})]})]})]}),Object(N.jsxs)("div",{className:"ProductDetailsPage__suggested",children:[Object(N.jsx)("h1",{className:"ProductDetailsPage__suggested-title",children:"You may also like"}),Object(N.jsx)(ue,{products:v})]})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(te,{}),Object(N.jsx)("h1",{children:"Product was not found"})]})})})}),me=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(l.useState)(!0),n=Object(o.a)(s,2),r=n[0],i=n[1],u="Tablets";return Object(l.useEffect)((function(){Z("/products.json").then((function(e){return e.filter((function(e){return"tablet"===e.type}))})).then(a).finally((function(){return i(!1)}))}),[]),Object(N.jsxs)("div",{className:"tablets",children:[Object(N.jsx)(T,{category:u}),r?Object(N.jsx)(H,{}):Object(N.jsx)(N.Fragment,{children:c.length?Object(N.jsx)(K,{products:c,category:u}):Object(N.jsx)(Q,{category:u})})]})},he=Object(r.d)(Object(i.k)(Object(N.jsxs)(i.b,{path:"/",element:Object(N.jsx)(R,{}),children:[Object(N.jsx)(i.b,{index:!0,element:Object(N.jsx)(je,{})}),Object(N.jsxs)(i.b,{path:"phones",children:[Object(N.jsx)(i.b,{index:!0,element:Object(N.jsx)(be,{})}),Object(N.jsx)(i.b,{path:":productId",element:Object(N.jsx)(Oe,{})})]}),Object(N.jsxs)(i.b,{path:"tablets",children:[Object(N.jsx)(i.b,{index:!0,element:Object(N.jsx)(me,{})}),Object(N.jsx)(i.b,{path:":productId",element:Object(N.jsx)(Oe,{})})]}),Object(N.jsxs)(i.b,{path:"accessories",children:[Object(N.jsx)(i.b,{index:!0,element:Object(N.jsx)(ee,{})}),Object(N.jsx)(i.b,{path:":productId",element:Object(N.jsx)(Oe,{})})]}),Object(N.jsx)(i.b,{path:"cart",element:Object(N.jsx)(se,{})}),Object(N.jsx)(i.b,{path:"favorites",element:Object(N.jsx)(ne,{})}),Object(N.jsx)(i.b,{path:"*",element:Object(N.jsx)(de,{})})]}))),_e=function(){return Object(N.jsx)(P,{children:Object(N.jsx)(k,{children:Object(N.jsx)(i.d,{router:he})})})};c(71);n.a.createRoot(document.getElementById("root")).render(Object(N.jsx)(_e,{}))}]),[[72,1,2]]]);
//# sourceMappingURL=main.775b8d66.chunk.js.map