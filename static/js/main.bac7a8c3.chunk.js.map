{"version":3,"sources":["types/SortType.ts","utils/productsHelper.ts","utils/cartHelper.ts","hooks/useLocalStorage.ts","context/CartContext.tsx","context/FavouritesContext.tsx","components/Logo/Logo.tsx","components/Navbar/Navbar.tsx","types/QueryParams.ts","utils/searchHelper.ts","components/Search/Search.tsx","App.tsx","components/Breadcrumbs/Breadcrumbs.tsx","components/Loader/Loader.tsx","components/NoResults.tsx","components/CartButton/CartButton.tsx","components/FavouritesButton/FavouritesButton.tsx","components/ProductCard/ProductCard.tsx","components/ProductsList/ProductsList.tsx","components/NoSearchResults.tsx","components/Pagination/Pagination.tsx","components/Dropdown/Dropdown.tsx","components/ProductsPage/ProductsPage.tsx","utils/fetchClient.ts","pages/AccessoriesPage.tsx","services/productsService.ts","components/BackLink/BackLink.tsx","components/CartItem/CartItem.tsx","components/Modal/Modal.tsx","pages/CartPage/CartPage.tsx","pages/FavouritesPage/FavouritesPage.tsx","components/Banner/Banner.tsx","components/ProductsSlider/ProductsSlider.tsx","pages/HomePage/HomePage.tsx","pages/NotFoundPage/NotFoundPage.tsx","pages/PhonesPage.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","pages/TabletsPage.tsx","Root.tsx","index.tsx"],"names":["SortType","getFinalPrice","price","discount","getFilteredProducts","allProducts","query","sortType","filtered","filter","product","name","toLowerCase","includes","Alphabetically","sort","product1","product2","localeCompare","Cheapest","Newest","age","deleteFromCart","cart","itemId","item","id","changeQuantity","itemToUpdate","operation","updatedQuantity","quantity","updatedItem","updatedCart","index","findIndex","splice","useLocalStorage","key","startValue","useState","data","localStorage","getItem","JSON","parse","removeItem","value","setValue","newValue","setItem","stringify","CartContext","React","createContext","setCart","totalQuantity","CartProvider","children","useMemo","reduce","acc","curr","getCartTotalQuantity","Provider","useCart","useContext","FavouritesContext","favourites","setFavourites","FavouritesProvider","useFavourites","Logo","to","className","src","alt","getClassName","isActive","cn","QueryParams","Navbar","getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","delete","Array","isArray","part","append","set","Search","location","useLocation","pathname","slice","useSearchParams","searchParams","setSearchParams","get","Query","inputValue","setInputValue","setSearchWith","params","search","applyQuery","useCallback","debounce","newQuery","onSubmit","e","preventDefault","type","placeholder","onChange","target","onClick","App","isSearch","length","href","rel","window","scrollTo","top","behavior","Breadcrumbs","category","Loader","NoResults","CartButton","isInCart","find","undefined","newItem","Math","max","map","addToCart","FavouritesButton","isInFavourites","favourite","ProductCard","imageUrl","screen","capacity","ram","ProductsList","products","NoSearchResults","Pagination","total","currentPage","Page","perPage","PerPage","pagesCount","ceil","pages","from","numbers","n","push","getPageNumbers","handlePageChange","newPage","page","disabled","Dropdown","options","chosenOption","handleOption","isDropdownActive","setIsDropdownActive","currState","option","handleOptionChange","PER_PAGE_OPTIONS","ProductsPage","filteredProducts","setFilteredProducts","Sort","displayedProducts","startIndex","endIndex","getDisplayedProducts","useEffect","keys","sortTypeValue","fullSortType","getSortTypeName","newSortTypeName","newSortType","sortTypeName","getSortTypeValue","newPerPage","BASE_URL","client","url","fetch","method","then","response","json","request","AccessoriesPage","accessories","setAccessories","isLoading","setIsLoading","finally","BackLink","navigate","useNavigate","CartItem","Modal","isModalActive","setIsModalActive","CartPage","getCartTotal","FavouritesPage","displayedFavourites","BANNER_IMAGES","imgUrl","Banner","selectedIndex","setSelectedIndex","scrollSnaps","setScrollSnaps","useEmblaCarousel","loop","Autoplay","delay","stopOnInteraction","emblaRef","emblaApi","autoplay","plugins","scrollPrev","reset","scrollNext","onInit","emblaAPI","scrollSnapList","onSelect","selectedScrollSnap","on","off","ref","image","snap","ProductsSlider","shiftedElements","setShiftedElements","shift","sliderRef","useRef","sliderWidth","setSliderWidth","slidesShown","containerWidth","slideWidth","gapWidth","totalWidth","slides","getSlidesShown","wrapperWidth","sliderObserver","ResizeObserver","entry","floor","contentRect","width","current","observe","disconnect","itemsLeft","style","transform","HomePage","setProducts","hotPriceProducts","setHotPriceProducts","brandNewProducts","setBrandNewProducts","phones","tablets","prod1","prod2","NotFoundPage","PhonesPage","setPhones","ProductDetailsPage","setProduct","details","setDetails","suggestedProducts","setSuggestedProducts","setCategory","productId","useParams","finalPrice","images","displayedImage","setDisplayedImage","currentProductId","productsService","random","toUpperCase","display","screenSize","screenResolution","hardware","cpu","storage","description","flash","camera","primary","android","os","connectivity","bluetooth","TabletsPage","setTablets","router","createHashRouter","createRoutesFromElements","path","element","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bac7a8c3.chunk.js","sourcesContent":["export enum SortType {\n  Newest = 'age',\n  Alphabetically = 'name',\n  Cheapest = 'price',\n}\n","import { SortType } from '../types/SortType';\nimport { Product } from '../types/Product';\n\nexport function getFinalPrice(price: number, discount: number) {\n  if (!discount) {\n    return price;\n  }\n\n  return price - price * (discount / 100);\n}\n\nexport function getPageNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n\nexport function getDisplayedProducts(\n  allProducts: Product[],\n  perPage: string,\n  currentPage: number,\n) {\n  if (perPage === 'all') {\n    return [...allProducts];\n  }\n\n  const startIndex = +perPage * currentPage - +perPage;\n  const endIndex = +perPage * currentPage;\n\n  return [...allProducts].slice(startIndex, endIndex);\n}\n\nexport function getFilteredProducts(\n  allProducts: Product[],\n  query: string,\n  sortType?: string,\n) {\n  let filtered = [...allProducts];\n\n  if (query) {\n    filtered = filtered.filter(product => product.name.toLowerCase()\n      .includes(query.toLowerCase()));\n  }\n\n  if (sortType) {\n    switch (sortType) {\n      case SortType.Alphabetically:\n        filtered.sort((product1, product2) => product1.name\n          .localeCompare(product2.name));\n        break;\n\n      case SortType.Cheapest:\n        filtered\n          .sort((product1, product2) => product1.price - product2.price);\n        break;\n\n      default:\n      case SortType.Newest:\n        filtered.sort((product1, product2) => product1.age - product2.age);\n    }\n  }\n\n  return filtered;\n}\n","import { CartProduct } from '../types/CartProduct';\nimport { Product } from '../types/Product';\nimport { getFinalPrice } from './productsHelper';\n\nexport function addToCart(cart: CartProduct[], product: Product) {\n  const newId = cart.length ? Math.max(...cart.map(item => item.id)) + 1 : 0;\n  const newItem = {\n    id: newId,\n    quantity: 1,\n    product,\n  };\n\n  return [...cart, newItem];\n}\n\nexport function deleteFromCart(cart: CartProduct[], itemId: number) {\n  return cart.filter(item => item.id !== itemId);\n}\n\ntype QuantityOperation = 'minus' | 'plus';\n\nexport function changeQuantity(\n  cart: CartProduct[],\n  itemToUpdate: CartProduct,\n  operation: QuantityOperation,\n) {\n  let updatedQuantity;\n\n  switch (operation) {\n    case 'minus':\n      updatedQuantity = itemToUpdate.quantity - 1;\n      break;\n\n    case 'plus':\n      updatedQuantity = itemToUpdate.quantity + 1;\n      break;\n\n    default:\n      updatedQuantity = 1;\n  }\n\n  const updatedItem = {\n    ...itemToUpdate,\n    quantity: updatedQuantity,\n  };\n  const updatedCart = [...cart];\n  const index = updatedCart.findIndex(item => item.id === itemToUpdate.id);\n\n  updatedCart.splice(index, 1, updatedItem);\n\n  return updatedCart;\n}\n\nexport function getCartTotal(cart: CartProduct[]) {\n  return [...cart].reduce((acc, curr) => {\n    const actualPrice = getFinalPrice(\n      curr.product.price, curr.product.discount,\n    );\n\n    return acc + (actualPrice * curr.quantity);\n  }, 0);\n}\n\nexport function getCartTotalQuantity(cart: CartProduct[]) {\n  return [...cart].reduce((acc, curr) => {\n    return acc + curr.quantity;\n  }, 0);\n}\n","import { useState } from 'react';\n\nexport function useLocalStorage<T>(key: string, startValue: T) {\n  const [value, setValue] = useState(() => {\n    const data = localStorage.getItem(key);\n\n    if (data === null) {\n      return startValue;\n    }\n\n    try {\n      return JSON.parse(data);\n    } catch {\n      localStorage.removeItem(key);\n\n      return startValue;\n    }\n  });\n\n  const save = (newValue: T) => {\n    localStorage.setItem(key, JSON.stringify(newValue));\n    setValue(newValue);\n  };\n\n  return [value, save];\n}\n","import React, { useContext, useMemo } from 'react';\nimport { CartProduct } from '../types/CartProduct';\nimport { getCartTotalQuantity } from '../utils/cartHelper';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\n\ntype CartGlobalContext = {\n  cart: CartProduct[];\n  setCart: React.Dispatch<React.SetStateAction<CartProduct[]>>;\n  totalQuantity: number;\n};\n\nexport const CartContext = React.createContext<CartGlobalContext>({\n  cart: [],\n  setCart: () => {},\n  totalQuantity: 0,\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const CartProvider: React.FC<Props> = ({ children }) => {\n  const [cart, setCart] = useLocalStorage('cart', []);\n  const totalQuantity = useMemo(() => {\n    return getCartTotalQuantity(cart);\n  }, [cart]);\n\n  const value = useMemo(() => {\n    return { cart, setCart, totalQuantity };\n  }, [cart]);\n\n  return (\n    <CartContext.Provider value={value}>\n      { children }\n    </CartContext.Provider>\n  );\n};\n\nexport function useCart() {\n  const cart = useContext(CartContext);\n\n  return cart;\n}\n","import React, { useContext, useMemo } from 'react';\nimport { Product } from '../types/Product';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\n\ntype FavouritesGlobalContext = {\n  favourites: Product[];\n  setFavourites: React.Dispatch<React.SetStateAction<Product[]>>;\n};\n\nexport const FavouritesContext = React.createContext<FavouritesGlobalContext>({\n  favourites: [],\n  setFavourites: () => {},\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const FavouritesProvider: React.FC<Props> = ({ children }) => {\n  const [favourites, setFavourites] = useLocalStorage('favourites', []);\n\n  const value = useMemo(() => {\n    return { favourites, setFavourites };\n  }, [favourites]);\n\n  return (\n    <FavouritesContext.Provider value={value}>\n      { children }\n    </FavouritesContext.Provider>\n  );\n};\n\nexport function useFavourites() {\n  const favourites = useContext(FavouritesContext);\n\n  return favourites;\n}\n","import { NavLink } from 'react-router-dom';\nimport './Logo.scss';\n\nexport const Logo = () => (\n  <NavLink to=\"/\" className=\"Logo\">\n    <img src=\"./img/logo.svg\" alt=\"Logo\" />\n  </NavLink>\n);\n","import { NavLink } from 'react-router-dom';\nimport cn from 'classnames';\nimport './Navbar.scss';\n\nfunction getClassName({ isActive }: { isActive: boolean }) {\n  return cn('Navbar__link', {\n    'Navbar__link--active': isActive,\n  });\n}\n\nexport const Navbar = () => {\n  return (\n    <nav className=\"Navbar\">\n      <NavLink to=\"/\" className={getClassName}>Home</NavLink>\n      <NavLink to=\"/phones\" className={getClassName}>Phones</NavLink>\n      <NavLink to=\"/tablets\" className={getClassName}>Tablets</NavLink>\n      <NavLink to=\"/accessories\" className={getClassName}>Accessories</NavLink>\n    </nav>\n  );\n};\n","export enum QueryParams {\n  Sort = 'sort',\n  Page = 'page',\n  PerPage = 'perPage',\n  Query = 'query',\n}\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\nexport function getSearchWith(\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n): string {\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n}\n","import React, { useCallback, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport debounce from 'lodash.debounce';\nimport { QueryParams } from '../../types/QueryParams';\nimport { getSearchWith, SearchParams } from '../../utils/searchHelper';\nimport './Search.scss';\n\nexport const Search = () => {\n  const location = useLocation().pathname.slice(1);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(QueryParams.Query) || '';\n\n  const [inputValue, setInputValue] = useState(query);\n\n  const setSearchWith = (params: SearchParams) => {\n    const search = getSearchWith(searchParams, params);\n\n    setSearchParams(search);\n  };\n\n  const applyQuery = useCallback(debounce((newQuery: string) => {\n    setSearchWith({ query: newQuery || null });\n  }, 1000), []);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n    applyQuery(e.target.value);\n  };\n\n  const handleClear = () => {\n    setInputValue('');\n    setSearchWith({ query: null });\n  };\n\n  return (\n    <form className=\"Search\" onSubmit={(e) => e.preventDefault()}>\n      <input\n        type=\"text\"\n        placeholder={`Search in ${location}...`}\n        className=\"Search__input\"\n        value={inputValue}\n        onChange={handleChange}\n      />\n\n      {query ? (\n        <button\n          type=\"button\"\n          className=\"Search__icon Search__icon--close\"\n          aria-label=\"Clear\"\n          onClick={handleClear}\n          data-cy=\"searchDelete\"\n        />\n      ) : (\n        <span className=\"Search__icon Search__icon--search\" />\n      )}\n    </form>\n  );\n};\n","import {\n  Link, NavLink, Outlet, ScrollRestoration, useLocation,\n} from 'react-router-dom';\nimport cn from 'classnames';\nimport { useCart } from './context/CartContext';\nimport { useFavourites } from './context/FavouritesContext';\nimport { Logo } from './components/Logo/Logo';\nimport { Navbar } from './components/Navbar';\nimport { Search } from './components/Search';\nimport './App.scss';\n\nconst App = () => {\n  const location = useLocation();\n  const isSearch = location.pathname === '/phones'\n    || location.pathname === '/tablets'\n    || location.pathname === '/accessories'\n    || location.pathname === '/favorites';\n\n  const { totalQuantity } = useCart();\n  const { favourites } = useFavourites();\n\n  return (\n    <div className=\"App\">\n      <ScrollRestoration />\n      <header className=\"header\">\n        <div className=\"header__wrapper header__wrapper--left\">\n          <Logo />\n          <Navbar />\n        </div>\n\n        <div className=\"header__wrapper\">\n          {!!isSearch && (\n            <Search key={location.pathname} />\n          )}\n\n          <NavLink\n            to=\"favorites\"\n            className={({ isActive }) => cn('icon icon--favourites', {\n              'icon--active': isActive,\n            })}\n          >\n            {!!favourites.length && (\n              <span className=\"icon__quantity\">{favourites.length}</span>\n            )}\n          </NavLink>\n          <NavLink\n            to=\"cart\"\n            className={({ isActive }) => cn('icon icon--cart', {\n              'icon--active': isActive,\n            })}\n          >\n            {!!totalQuantity && (\n              <span className=\"icon__quantity\">{totalQuantity}</span>\n            )}\n          </NavLink>\n        </div>\n      </header>\n\n      <main className=\"main\">\n        <div className=\"container\">\n          <Outlet />\n        </div>\n      </main>\n\n      <footer className=\"footer\">\n        <div className=\"footer__logo\">\n          <Logo />\n        </div>\n\n        <div className=\"footer__link-wrapper\">\n          <a\n            href=\"https://github.com/akozlovska/react_phone-catalog\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"footer__link\"\n          >\n            Github\n          </a>\n          <Link to=\"/contacts\" className=\"footer__link\">Contacts</Link>\n          <Link to=\"/rights\" className=\"footer__link\">Rights</Link>\n        </div>\n\n        <div className=\"footer__button-wrapper\">\n          <p className=\"footer__button-text\">Back to top</p>\n          <button\n            type=\"button\"\n            className=\"button button--arrow-up\"\n            aria-label=\"Back to top\"\n            onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n          />\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default App;\n","import { Link } from 'react-router-dom';\nimport './Breadcrumbs.scss';\n\ntype Props = {\n  category: string,\n  product?: string,\n};\n\nexport const Breadcrumbs: React.FC<Props> = ({ category, product }) => {\n  return (\n    <div className=\"Breadcrumbs\" data-cy=\"breadCrumbs\">\n      <Link to=\"/\" className=\"Breadcrumbs__item Breadcrumbs__item--home\" />\n\n      {product ? (\n        <>\n          <Link to={`/${category}`} className=\"Breadcrumbs__item\">{category}</Link>\n          <p className=\"Breadcrumbs__item Breadcrumbs__item--text\">{product}</p>\n        </>\n      ) : (\n        <p className=\"Breadcrumbs__item Breadcrumbs__item--text\">\n          {category}\n        </p>\n      )}\n    </div>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","type Props = {\n  category: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ category }) => (\n  <h1>{`${category} not found`}</h1>\n);\n","import { useMemo } from 'react';\nimport cn from 'classnames';\nimport { useCart } from '../../context/CartContext';\nimport { Product } from '../../types/Product';\nimport { addToCart, deleteFromCart } from '../../utils/cartHelper';\nimport './CartButton.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const CartButton: React.FC<Props> = ({ product }) => {\n  const { cart, setCart } = useCart();\n\n  const isInCart = useMemo(() => {\n    return !!cart.find(item => item.product.id === product.id);\n  }, [cart]);\n\n  const handleAdd = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    if (!isInCart) {\n      setCart(addToCart(cart, product));\n    } else {\n      const itemId = cart\n        .find(item => item.product.id === product.id)?.id;\n\n      if (itemId !== undefined) {\n        setCart(deleteFromCart(cart, itemId));\n      }\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className={cn('CartButton', {\n        'CartButton--added': isInCart,\n      })}\n      onClick={handleAdd}\n    >\n      {isInCart ? (\n        'Added to cart'\n      ) : (\n        'Add to cart'\n      )}\n    </button>\n  );\n};\n","import { useMemo } from 'react';\nimport cn from 'classnames';\nimport { Product } from '../../types/Product';\nimport { useFavourites } from '../../context/FavouritesContext';\nimport './FavouritesButton.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const FavouritesButton: React.FC<Props> = ({ product }) => {\n  const { favourites, setFavourites } = useFavourites();\n\n  const isInFavourites = useMemo(() => {\n    return !!favourites.find(favourite => favourite.id === product.id);\n  }, [favourites]);\n\n  const handleLike = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n\n    if (!isInFavourites) {\n      setFavourites([...favourites, product]);\n    } else {\n      setFavourites(favourites\n        .filter(favourite => favourite.id !== product.id));\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      aria-label=\"Add to favourites\"\n      className={cn('FavouritesButton', {\n        'FavouritesButton--selected': isInFavourites,\n      })}\n      onClick={handleLike}\n      data-cy=\"addToFavorite\"\n    />\n  );\n};\n","import { Link } from 'react-router-dom';\nimport { getFinalPrice } from '../../utils/productsHelper';\nimport { Product } from '../../types/Product';\nimport { CartButton } from '../CartButton';\nimport { FavouritesButton } from '../FavouritesButton';\nimport './ProductCard.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => (\n  <Link to={`/${product.type}s/${product.id}`} className=\"ProductCard\">\n    <div className=\"ProductCard__content\">\n      <div className=\"ProductCard__image-wrapper\">\n        <img\n          src={product.imageUrl}\n          alt={product.name}\n          className=\"ProductCard__image\"\n        />\n      </div>\n\n      <p className=\"ProductCard__title\">{product.name}</p>\n\n      <div className=\"ProductCard__prices\">\n        <h2 className=\"ProductCard__new-price\">\n          {`$${getFinalPrice(product.price, product.discount)}`}\n        </h2>\n\n        {!!product.discount && (\n          <h2 className=\"ProductCard__old-price\">{`$${product.price}`}</h2>\n        )}\n      </div>\n\n      <div className=\"ProductCard__details\">\n        <div className=\"ProductCard__detail\">\n          <p className=\"ProductCard__detail-name\">Screen</p>\n          <p className=\"ProductCard__detail-text\">{product.screen}</p>\n        </div>\n\n        <div className=\"ProductCard__detail\">\n          <p className=\"ProductCard__detail-name\">Capacity</p>\n          <p className=\"ProductCard__detail-text\">{product.capacity}</p>\n        </div>\n\n        <div className=\"ProductCard__detail\">\n          <p className=\"ProductCard__detail-name\">RAM</p>\n          <p className=\"ProductCard__detail-text\">{product.ram}</p>\n        </div>\n      </div>\n\n      <div className=\"ProductCard__buttons\">\n        <div className=\"ProductCard__add-button\">\n          <CartButton product={product} />\n        </div>\n\n        <div className=\"ProductCard__favourites-button\">\n          <FavouritesButton product={product} />\n        </div>\n      </div>\n    </div>\n  </Link>\n);\n","import { ProductCard } from '../ProductCard';\nimport { Product } from '../../types/Product';\nimport './ProductsList.scss';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const ProductsList: React.FC<Props> = ({ products }) => {\n  return (\n    <div className=\"ProductsList\" data-cy=\"productList\">\n      {products.map(product => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n};\n","export const NoSearchResults: React.FC = () => (\n  <h1>No search results</h1>\n);\n","import { useSearchParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport { QueryParams } from '../../types/QueryParams';\nimport { getPageNumbers } from '../../utils/productsHelper';\nimport { getSearchWith } from '../../utils/searchHelper';\nimport './Pagination.scss';\n\ntype Props = {\n  total: number;\n};\n\nexport const Pagination: React.FC<Props> = ({ total }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const currentPage = +(searchParams.get(QueryParams.Page) || 1);\n  const perPage = searchParams.get(QueryParams.PerPage) || '16';\n\n  const pagesCount = perPage === 'all' ? 1 : Math.ceil(total / +perPage);\n  const pages = getPageNumbers(1, pagesCount);\n\n  const handlePageChange = (newPage: number) => {\n    if (newPage !== currentPage && newPage >= 1 && newPage <= pagesCount) {\n      const search = getSearchWith(searchParams, { page: newPage.toString() });\n\n      setSearchParams(search);\n    }\n  };\n\n  return (\n    <div className=\"Pagination\" data-cy=\"pagination\">\n      <button\n        type=\"button\"\n        aria-label=\"Previous\"\n        className=\"button button--prev\"\n        disabled={currentPage === 1}\n        onClick={() => handlePageChange(currentPage - 1)}\n        data-cy=\"paginationLeft\"\n      />\n\n      <ul className=\"Pagination__pages\">\n        {pages.map(page => (\n          <li key={page}>\n            <button\n              type=\"button\"\n              onClick={() => handlePageChange(page)}\n              className={cn('button', {\n                'button--active': currentPage === page,\n              })}\n            >\n              {page}\n            </button>\n          </li>\n        ))}\n      </ul>\n\n      <button\n        type=\"button\"\n        aria-label=\"Next\"\n        className=\"button button--next\"\n        disabled={currentPage === pagesCount}\n        onClick={() => handlePageChange(currentPage + 1)}\n        data-cy=\"paginationRight\"\n      />\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport './Dropdown.scss';\n\ntype Props = {\n  options: string[];\n  chosenOption: string;\n  handleOption: (o: string) => void;\n};\n\nexport const Dropdown: React.FC<Props> = ({\n  options,\n  chosenOption,\n  handleOption,\n}) => {\n  const [isDropdownActive, setIsDropdownActive] = useState(false);\n  const handleOptionChange = (option: string) => {\n    handleOption(option);\n    setIsDropdownActive(false);\n  };\n\n  return (\n    <div className=\"Dropdown\">\n      <button\n        type=\"button\"\n        className={cn('Dropdown__button', {\n          'Dropdown__button--focused': isDropdownActive,\n        })}\n        onClick={() => setIsDropdownActive(currState => !currState)}\n      >\n        {chosenOption}\n      </button>\n\n      <ul\n        className={cn('Dropdown__list', {\n          'Dropdown__list--visible': isDropdownActive,\n        })}\n      >\n        {options.map(option => (\n          <li key={option}>\n            <button\n              type=\"button\"\n              className=\"Dropdown__option\"\n              onClick={() => handleOptionChange(option)}\n            >\n              {option}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Product } from '../../types/Product';\nimport { PerPageOptions } from '../../types/PerPageOptions';\nimport { SortType } from '../../types/SortType';\nimport { QueryParams } from '../../types/QueryParams';\nimport {\n  getDisplayedProducts, getFilteredProducts,\n} from '../../utils/productsHelper';\nimport { getSearchWith, SearchParams } from '../../utils/searchHelper';\nimport { ProductsList } from '../ProductsList';\nimport { NoSearchResults } from '../NoSearchResults';\nimport { Pagination } from '../Pagination';\nimport { Dropdown } from '../Dropdown';\nimport './ProductsPage.scss';\n\ntype Props = {\n  products: Product[];\n  category: string;\n};\n\nconst PER_PAGE_OPTIONS: PerPageOptions[] = ['4', '8', '16', 'all'];\n\nexport const ProductsPage: React.FC<Props> = ({ products, category }) => {\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([]);\n  const total = filteredProducts.length;\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const sortType = searchParams.get(QueryParams.Sort) || 'age';\n  const currentPage = +(searchParams.get(QueryParams.Page) || 1);\n  const perPage = searchParams.get(QueryParams.PerPage) || '16';\n  const query = searchParams.get(QueryParams.Query) || '';\n\n  function getSortTypeValue(sortTypeName: string) {\n    const fullSortType = Object.entries(SortType)\n      .find(([name]) => name === sortTypeName);\n\n    return fullSortType ? fullSortType[1] : SortType.Newest;\n  }\n\n  function getSortTypeName(sortTypeValue: string) {\n    const fullSortType = Object.entries(SortType)\n      .find(([, value]) => value === sortTypeValue);\n\n    return fullSortType ? fullSortType[0] : 'Newest';\n  }\n\n  const displayedProducts = useMemo(() => {\n    return getDisplayedProducts(filteredProducts, perPage, currentPage);\n  }, [filteredProducts, perPage, currentPage]);\n\n  const setSearchWith = (params: SearchParams) => {\n    const search = getSearchWith(searchParams, params);\n\n    setSearchParams(search);\n  };\n\n  const handlePerPage = (newPerPage: string) => {\n    if (perPage !== newPerPage) {\n      setSearchWith({ perPage: newPerPage, page: '1' });\n    }\n  };\n\n  const handleSort = (newSortTypeName: string) => {\n    const newSortType = getSortTypeValue(newSortTypeName);\n\n    if (sortType !== newSortType) {\n      setSearchWith({ sort: newSortType });\n    }\n  };\n\n  useEffect(() => {\n    setFilteredProducts(getFilteredProducts(products, query, sortType));\n  }, [products, sortType, query]);\n\n  if (query && !filteredProducts.length) {\n    return (\n      <NoSearchResults />\n    );\n  }\n\n  return (\n    <div className=\"ProductsPage\">\n      {query ? (\n        <p className=\"ProductsPage__subtitle\">\n          {total === 1 ? '1 result' : `${total} results`}\n        </p>\n      ) : (\n        <>\n          <h1 className=\"ProductsPage__title\">{category}</h1>\n          <p className=\"ProductsPage__subtitle\">{`${products.length} models`}</p>\n        </>\n      )}\n\n      <div className=\"ProductsPage__dropdowns\">\n        <div className=\"ProductsPage__dropdown ProductsPage__dropdown--sort\">\n          Sort by\n\n          <Dropdown\n            options={Object.keys(SortType)}\n            chosenOption={getSortTypeName(sortType)}\n            handleOption={handleSort}\n          />\n        </div>\n\n        <div className=\"ProductsPage__dropdown ProductsPage__dropdown--page\">\n          Items on page\n\n          <Dropdown\n            options={PER_PAGE_OPTIONS}\n            chosenOption={perPage}\n            handleOption={handlePerPage}\n          />\n        </div>\n      </div>\n\n      <div className=\"ProductsPage__list\">\n        <ProductsList products={displayedProducts} />\n      </div>\n\n      {total >= 4 && (\n        <Pagination total={total} />\n      )}\n    </div>\n  );\n};\n","const BASE_URL = 'https://mate-academy.github.io/react_phone-catalog/api';\n\ntype RequestMethod = 'GET' | 'POST' | 'PATCH' | 'DELETE';\n\nfunction request<T>(url: string, method: RequestMethod = 'GET'): Promise<T> {\n  const options: RequestInit = { method };\n\n  return fetch(BASE_URL + url, options)\n    .then(response => response.json());\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n};\n","import { useEffect, useState } from 'react';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport { Loader } from '../components/Loader';\nimport { NoResults } from '../components/NoResults';\nimport { ProductsPage } from '../components/ProductsPage';\nimport * as productsService from '../services/productsService';\nimport { Product } from '../types/Product';\n\nexport const AccessoriesPage: React.FC = () => {\n  const [accessories, setAccessories] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const category = 'Accessories';\n\n  useEffect(() => {\n    productsService.getAccessories()\n      .then(setAccessories)\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <div className=\"accessories\">\n      <Breadcrumbs category={category} />\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          {accessories.length ? (\n            <ProductsPage products={accessories} category={category} />\n          ) : (\n            <NoResults category={category} />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { Product } from '../types/Product';\nimport { ProductDetails } from '../types/ProductDetails';\nimport { client } from '../utils/fetchClient';\nimport { getFinalPrice } from '../utils/productsHelper';\n\nexport const getProducts = () => {\n  return client.get<Product[]>('/products.json');\n};\n\nexport const getProductById = (productId: string) => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products.find(product => product.id === productId)\n    || null);\n};\n\nexport const getProductDetails = (productId: string) => {\n  return client.get<ProductDetails>(`/products/${productId}.json`);\n};\n\nexport const getHotPriceProducts = () => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products\n      .filter(product => !!product.discount)\n      .sort((prod1, prod2) => {\n        return (prod2.price - getFinalPrice(prod2.price, prod2.discount))\n        - (prod1.price - getFinalPrice(prod1.price, prod1.discount));\n      }));\n};\n\nexport const getBrandNewProducts = () => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products\n      .filter(product => !product.discount)\n      .sort((product1, product2) => product2.price - product1.price));\n};\n\nexport const getSuggestedProducts = (currentProductId?: string) => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products\n      .filter((product => product.id !== currentProductId))\n      .sort(() => 0.5 - Math.random())\n      .slice(0, 12));\n};\n\nexport const getPhones = () => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products\n      .filter(product => product.type === 'phone'));\n};\n\nexport const getTablets = () => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products\n      .filter(product => product.type === 'tablet'));\n};\n\nexport const getAccessories = () => {\n  return client.get<Product[]>('/products.json')\n    .then(products => products\n      .filter(product => product.type === 'accessory'));\n};\n","import { useNavigate } from 'react-router-dom';\nimport './BackLink.scss';\n\nexport const BackLink = () => {\n  const navigate = useNavigate();\n\n  return (\n    <button\n      type=\"button\"\n      className=\"BackLink\"\n      onClick={() => navigate(-1)}\n      data-cy=\"backButton\"\n    >\n      Back\n    </button>\n  );\n};\n","import { useCart } from '../../context/CartContext';\nimport { CartProduct } from '../../types/CartProduct';\nimport { changeQuantity, deleteFromCart } from '../../utils/cartHelper';\nimport { getFinalPrice } from '../../utils/productsHelper';\nimport './CartItem.scss';\n\ntype Props = {\n  item: CartProduct;\n};\n\nexport const CartItem: React.FC<Props> = ({ item }) => {\n  const { cart, setCart } = useCart();\n\n  return (\n    <div className=\"CartItem\">\n      <button\n        type=\"button\"\n        className=\"CartItem__delete\"\n        aria-label=\"Delete\"\n        onClick={() => setCart(deleteFromCart(cart, item.id))}\n        data-cy=\"cartDeleteButton\"\n      />\n\n      <div className=\"CartItem__image-wrapper\">\n        <img\n          src={item.product.imageUrl}\n          alt={item.product.name}\n          className=\"CartItem__image\"\n        />\n      </div>\n\n      <p className=\"CartItem__name\">\n        {item.product.name}\n      </p>\n\n      <div className=\"CartItem__amount\">\n        <button\n          type=\"button\"\n          aria-label=\"Minus 1\"\n          className=\"button button--minus\"\n          disabled={item.quantity === 1}\n          onClick={() => setCart(changeQuantity(cart, item, 'minus'))}\n        />\n\n        <p className=\"CartItem__amount-number\">\n          {item.quantity}\n        </p>\n\n        <button\n          type=\"button\"\n          aria-label=\"Plus 1\"\n          className=\"button button--plus\"\n          onClick={() => setCart(changeQuantity(cart, item, 'plus'))}\n        />\n      </div>\n\n      <h2 className=\"CartItem__price\">\n        {`$${getFinalPrice(item.product.price, item.product.discount)}`}\n      </h2>\n    </div>\n  );\n};\n","import cn from 'classnames';\nimport './Modal.scss';\n\ntype Props = {\n  isModalActive: boolean;\n  setIsModalActive: (i: boolean) => void;\n};\n\nexport const Modal: React.FC<Props> = ({ isModalActive, setIsModalActive }) => (\n  <div\n    className={cn('Modal', {\n      'Modal--active': isModalActive,\n    })}\n  >\n    <div className=\"Modal__content\">\n      <h1>We are sorry, but this feature is not implemented yet</h1>\n      <button\n        type=\"button\"\n        className=\"Modal__button\"\n        onClick={() => setIsModalActive(false)}\n      >\n        Close\n      </button>\n    </div>\n  </div>\n);\n","import { useMemo, useState } from 'react';\nimport { useCart } from '../../context/CartContext';\nimport { BackLink } from '../../components/BackLink';\nimport { CartItem } from '../../components/CartItem';\nimport { getCartTotal } from '../../utils/cartHelper';\nimport './CartPage.scss';\nimport { Modal } from '../../components/Modal';\n\nexport const CartPage: React.FC = () => {\n  const { cart, totalQuantity } = useCart();\n  const total = useMemo(() => {\n    return getCartTotal(cart);\n  }, [cart]);\n\n  const [isModalActive, setIsModalActive] = useState(false);\n\n  return (\n    <div className=\"CartPage\">\n      <BackLink />\n\n      {cart.length ? (\n        <>\n          <h1 className=\"CartPage__title\">Cart</h1>\n          <div className=\"CartPage__wrapper\">\n            <div className=\"CartPage__items\">\n              {cart.map(item => (\n                <CartItem item={item} key={item.id} />\n              ))}\n            </div>\n\n            <div className=\"CartPage__total\">\n              <h1 className=\"CartPage__total-price\">{`$${total}`}</h1>\n              <p className=\"CartPage__total-text\" data-cy=\"productQauntity\">\n                {`Total for ${totalQuantity} items`}\n              </p>\n              <button\n                type=\"button\"\n                className=\"CartPage__checkout\"\n                onClick={() => setIsModalActive(true)}\n              >\n                Checkout\n              </button>\n\n              <Modal\n                isModalActive={isModalActive}\n                setIsModalActive={setIsModalActive}\n              />\n            </div>\n          </div>\n        </>\n      ) : (\n        <h1>Your cart is empty</h1>\n      )}\n    </div>\n  );\n};\n","import { useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Breadcrumbs } from '../../components/Breadcrumbs';\nimport { NoSearchResults } from '../../components/NoSearchResults';\nimport { ProductsList } from '../../components/ProductsList';\nimport { useFavourites } from '../../context/FavouritesContext';\nimport { getFilteredProducts } from '../../utils/productsHelper';\nimport './FavouritesPage.scss';\n\nexport const FavouritesPage = () => {\n  const { favourites } = useFavourites();\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n\n  const displayedFavourites = useMemo(() => {\n    return getFilteredProducts(favourites, query);\n  }, [favourites, query]);\n  const total = displayedFavourites.length;\n\n  return (\n    <div className=\"FavouritesPage\">\n      <Breadcrumbs category=\"Favourites\" />\n      {favourites.length ? (\n        <>\n          {query ? (\n            <>\n              {!total ? (\n                <NoSearchResults />\n              ) : (\n                <>\n                  <p className=\"FavouritesPage__text\">\n                    {total === 1 ? '1 result' : `${total} results`}\n                  </p>\n                  <ProductsList products={displayedFavourites} />\n                </>\n              )}\n            </>\n          ) : (\n            <>\n              <h1 className=\"FavouritesPage__title\">Favourites</h1>\n              <p className=\"FavouritesPage__text\">\n                {total === 1 ? '1 item' : `${total} items`}\n              </p>\n              <ProductsList products={displayedFavourites} />\n            </>\n          )}\n        </>\n      ) : (\n        <h1>You have no favourites</h1>\n      )}\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport cn from 'classnames';\nimport useEmblaCarousel, { EmblaCarouselType } from 'embla-carousel-react';\nimport Autoplay from 'embla-carousel-autoplay';\nimport './Banner.scss';\n\nconst BANNER_IMAGES = [\n  { imgUrl: 'img/banner/banner-phones.png', alt: 'Phones' },\n  { imgUrl: 'img/banner/banner-tablets.png', alt: 'Tablets' },\n  { imgUrl: 'img/banner/banner-accessories.png', alt: 'Accessories' },\n];\n\nexport const Banner: React.FC = () => {\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [scrollSnaps, setScrollSnaps] = useState<number[]>([]);\n\n  const [emblaRef, emblaApi] = useEmblaCarousel(\n    { loop: true },\n    [Autoplay({ delay: 5000, stopOnInteraction: false })],\n  );\n  const autoplay = emblaApi?.plugins().autoplay;\n\n  const scrollPrev = useCallback(() => {\n    if (emblaApi) {\n      emblaApi.scrollPrev();\n      autoplay?.reset();\n    }\n  }, [emblaApi]);\n\n  const scrollNext = useCallback(() => {\n    if (emblaApi) {\n      emblaApi.scrollNext();\n      autoplay?.reset();\n    }\n  }, [emblaApi]);\n\n  const scrollTo = useCallback((index: number) => {\n    if (emblaApi) {\n      emblaApi.scrollTo(index);\n      autoplay?.reset();\n    }\n  }, [emblaApi]);\n\n  const onInit = useCallback((emblaAPI: EmblaCarouselType) => {\n    setScrollSnaps(emblaAPI.scrollSnapList());\n  }, []);\n\n  const onSelect = useCallback((emblaAPI: EmblaCarouselType) => {\n    setSelectedIndex(emblaAPI.selectedScrollSnap());\n  }, []);\n\n  useEffect(() => {\n    if (emblaApi) {\n      onInit(emblaApi);\n      onSelect(emblaApi);\n      emblaApi.on('select', onSelect);\n\n      return () => {\n        emblaApi.off('select', onSelect);\n      };\n    }\n\n    return () => {};\n  }, [emblaApi, onInit, onSelect]);\n\n  return (\n    <div className=\"Banner\">\n      <div className=\"Banner__content\">\n        <button\n          type=\"button\"\n          aria-label=\"Previous\"\n          className=\"Banner__button Banner__button--prev\"\n          onClick={scrollPrev}\n        />\n\n        <div className=\"Banner__viewport\" ref={emblaRef}>\n          <div className=\"Banner__container\">\n            {BANNER_IMAGES.map(image => (\n              <div className=\"Banner__slide\" key={image.alt}>\n                <img\n                  className=\"Banner__slide-image\"\n                  src={image.imgUrl}\n                  alt={image.alt}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <button\n          type=\"button\"\n          aria-label=\"Next\"\n          className=\"Banner__button Banner__button--next\"\n          onClick={scrollNext}\n        />\n      </div>\n\n      <div className=\"Banner__pagination\">\n        {scrollSnaps.map((snap, index) => (\n          <button\n            type=\"button\"\n            aria-label={`Go to slide ${index + 1}`}\n            key={snap}\n            className={cn('Banner__pagination-item', {\n              'Banner__pagination-item--active': index === selectedIndex,\n            })}\n            onClick={() => scrollTo(index)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import {\n  useEffect, useMemo, useRef, useState,\n} from 'react';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard';\nimport './ProductsSlider.scss';\n\ntype Props = {\n  products: Product[];\n};\n\nconst CARD_WIDTH = 272;\nconst ITEMS_GAP = 16;\n\nconst getSlidesShown = (\n  containerWidth: number,\n  slideWidth: number,\n  gapWidth: number,\n) => {\n  let totalWidth = slideWidth;\n  let slides = 0;\n\n  while (totalWidth <= containerWidth) {\n    slides += 1;\n    totalWidth += gapWidth + slideWidth;\n  }\n\n  return slides;\n};\n\nexport const ProductsSlider: React.FC<Props> = ({ products }) => {\n  const [shiftedElements, setShiftedElements] = useState(0);\n  const shift = useMemo(() => {\n    return shiftedElements * CARD_WIDTH + shiftedElements * ITEMS_GAP;\n  }, [shiftedElements]);\n\n  const sliderRef = useRef<HTMLDivElement | null>(null);\n  const [sliderWidth, setSliderWidth] = useState(0);\n  const slidesShown = getSlidesShown(sliderWidth, CARD_WIDTH, ITEMS_GAP);\n  const wrapperWidth = CARD_WIDTH * slidesShown + (slidesShown - 1) * ITEMS_GAP;\n\n  function getPrev() {\n    setShiftedElements(shiftedElements - slidesShown >= 0\n      ? shiftedElements - slidesShown\n      : 0);\n  }\n\n  function getNext() {\n    const itemsLeft = products.length - shiftedElements - slidesShown;\n\n    if (itemsLeft) {\n      setShiftedElements(itemsLeft > slidesShown\n        ? shiftedElements + slidesShown\n        : shiftedElements + itemsLeft);\n    }\n  }\n\n  useEffect(() => {\n    const sliderObserver = new ResizeObserver(entries => {\n      entries.forEach(entry => {\n        setSliderWidth(Math.floor(entry.contentRect.width));\n      });\n    });\n\n    if (sliderRef.current) {\n      sliderObserver.observe(sliderRef.current);\n    }\n\n    return () => {\n      sliderObserver.disconnect();\n    };\n  }, []);\n\n  return (\n    <div className=\"ProductsSlider\" ref={sliderRef}>\n      <div className=\"ProductsSlider__buttons\">\n        <button\n          type=\"button\"\n          aria-label=\"Previous\"\n          className=\"button button--prev\"\n          onClick={getPrev}\n          disabled={!shiftedElements}\n        />\n\n        <button\n          type=\"button\"\n          aria-label=\"Next\"\n          className=\"button button--next\"\n          onClick={getNext}\n          disabled={shiftedElements === products.length - slidesShown}\n        />\n      </div>\n      <div className=\"ProductsSlider__wrapper\" style={{ width: wrapperWidth }}>\n        <div\n          className=\"ProductsSlider__content\"\n          style={{ transform: `translateX(-${shift}px)` }}\n          data-cy=\"cardsContainer\"\n        >\n          {products.map(product => (\n            <ProductCard key={product.id} product={product} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Banner } from '../../components/Banner';\nimport { ProductsSlider } from '../../components/ProductsSlider';\nimport * as productsService from '../../services/productsService';\nimport { Product } from '../../types/Product';\nimport './HomePage.scss';\n\nexport const HomePage: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [hotPriceProducts, setHotPriceProducts] = useState<Product[]>([]);\n  const [brandNewProducts, setBrandNewProducts] = useState<Product[]>([]);\n\n  const [phones, tablets, accessories] = useMemo(() => {\n    const phonesCount = products\n      .filter(product => product.type === 'phone').length;\n    const tabletsCount = products\n      .filter(product => product.type === 'tablet').length;\n    const accessoriesCount = products\n      .filter(product => product.type === 'accessory').length;\n\n    return [phonesCount, tabletsCount, accessoriesCount];\n  }, [products]);\n\n  useEffect(() => {\n    productsService.getProducts()\n      .then(setProducts);\n\n    productsService.getHotPriceProducts()\n      .then(setHotPriceProducts);\n\n    productsService.getBrandNewProducts()\n      .then(setBrandNewProducts);\n  }, []);\n\n  return (\n    <>\n      <section className=\"HomePage__banner\">\n        <Banner />\n      </section>\n\n      <section className=\"HomePage__section\">\n        <h1 className=\"HomePage__section-title\">Hot prices</h1>\n        <ProductsSlider products={hotPriceProducts} />\n      </section>\n\n      <section className=\"HomePage__section\">\n        <h1 className=\"HomePage__section-title\">Shop by category</h1>\n\n        <div className=\"categories\" data-cy=\"categoryLinksContainer\">\n          <div className=\"categories__category\">\n            <Link to=\"/phones\" className=\"categories__link\">\n              <img\n                src=\"./img/products/phones.png\"\n                alt=\"Mobile phones\"\n                className=\"categories__link-image\"\n              />\n\n              <h3 className=\"categories__title\">Mobile phones</h3>\n              <p className=\"categories__text\">{`${phones} models`}</p>\n            </Link>\n          </div>\n\n          <div className=\"categories__category\">\n            <Link to=\"/tablets\" className=\"categories__link\">\n              <img\n                src=\"./img/products/tablets.png\"\n                alt=\"Tablets\"\n                className=\"categories__link-image\"\n              />\n\n              <h3 className=\"categories__title\">Tablets</h3>\n              <p className=\"categories__text\">{`${tablets} models`}</p>\n            </Link>\n          </div>\n\n          <div className=\"categories__category\">\n            <Link to=\"/accessories\" className=\"categories__link\">\n              <img\n                src=\"./img/products/accessories.png\"\n                alt=\"Accessories\"\n                className=\"categories__link-image\"\n              />\n\n              <h3 className=\"categories__title\">Accessories</h3>\n              <p className=\"categories__text\">{`${accessories} models`}</p>\n            </Link>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"HomePage__section\">\n        <h1 className=\"HomePage__section-title\">Brand new models</h1>\n        <ProductsSlider products={brandNewProducts} />\n      </section>\n    </>\n  );\n};\n","import './NotFoundPage.scss';\n\nexport const NotFoundPage = () => (\n  <h1 className=\"NotFoundPage\">Page not found</h1>\n);\n","import { useEffect, useState } from 'react';\nimport { NoResults } from '../components/NoResults';\nimport * as productsService from '../services/productsService';\nimport { Product } from '../types/Product';\nimport { ProductsPage } from '../components/ProductsPage';\nimport { Loader } from '../components/Loader';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\n\nexport const PhonesPage: React.FC = () => {\n  const [phones, setPhones] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    productsService.getPhones()\n      .then(setPhones)\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <div className=\"phones\">\n      <Breadcrumbs category=\"Phones\" />\n\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          {phones.length ? (\n            <ProductsPage products={phones} category=\"Mobile phones\" />\n          ) : (\n            <NoResults category=\"Mobile phones\" />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Product } from '../../types/Product';\nimport { ProductDetails } from '../../types/ProductDetails';\nimport * as productsService from '../../services/productsService';\nimport { getFinalPrice } from '../../utils/productsHelper';\nimport { ProductsSlider } from '../../components/ProductsSlider';\nimport { Breadcrumbs } from '../../components/Breadcrumbs';\nimport { Loader } from '../../components/Loader';\nimport { BackLink } from '../../components/BackLink';\nimport { CartButton } from '../../components/CartButton';\nimport { FavouritesButton } from '../../components/FavouritesButton';\nimport './ProductDetailsPage.scss';\n\nexport const ProductDetailsPage: React.FC = () => {\n  const [product, setProduct] = useState<Product | null>(null);\n  const [details, setDetails] = useState<ProductDetails | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [suggestedProducts, setSuggestedProducts] = useState<Product[]>([]);\n  const [category, setCategory] = useState('');\n  const { productId } = useParams();\n\n  const finalPrice = product\n    ? getFinalPrice(product.price, product.discount)\n    : 0;\n\n  const images = useMemo(() => {\n    return details ? [...details.images] : [];\n  }, [details]);\n\n  const [displayedImage, setDisplayedImage] = useState(0);\n\n  useEffect(() => {\n    if (productId) {\n      productsService.getProductDetails(productId)\n        .then(setDetails)\n        .finally(() => setIsLoading(false));\n\n      productsService.getProductById(productId)\n        .then(setProduct);\n    }\n\n    productsService.getSuggestedProducts(productId)\n      .then(setSuggestedProducts);\n\n    setDisplayedImage(0);\n  }, [productId]);\n\n  useEffect(() => {\n    if (product) {\n      setCategory(() => {\n        return product.type === 'accessory'\n          ? 'Accessories'\n          : `${product.type.slice(0, 1).toUpperCase()}${product.type.slice(1)}s`;\n      });\n    }\n  }, [product]);\n\n  return (\n    <div className=\"ProductDetailsPage\">\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          {(!details || !product) ? (\n            <>\n              <BackLink />\n              <h1>Product was not found</h1>\n            </>\n          ) : (\n            <>\n              <Breadcrumbs category={category} product={details.name} />\n\n              <BackLink />\n\n              <h1 className=\"ProductDetailsPage__title\">{details.name}</h1>\n\n              <div className=\"ProductDetailsPage__content\">\n                <p className=\"ProductDetailsPage__info-id\">{`ID: ${productId}`}</p>\n\n                <div className=\"ProductDetailsPage__wrapper\">\n                  <div className=\"ProductDetailsPage__images\">\n                    <div className=\"ProductDetailsPage__all-images\">\n                      {images.map((image, index) => (\n                        <button\n                          key={image}\n                          type=\"button\"\n                          className={cn('ProductDetailsPage__image-wrapper', {\n                            'ProductDetailsPage__image-wrapper--selected':\n                            index === displayedImage,\n                          })}\n                          onClick={() => setDisplayedImage(index)}\n                        >\n                          <img\n                            src={image}\n                            alt={details.name}\n                            className=\"ProductDetailsPage__image\"\n                          />\n                        </button>\n                      ))}\n                    </div>\n\n                    <div\n                      className=\"ProductDetailsPage__displayed-image-wrapper\"\n                    >\n                      <img\n                        src={images[displayedImage]}\n                        alt={details.name}\n                        className=\"ProductDetailsPage__displayed-image\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"ProductDetailsPage__info\">\n                    <div className=\"ProductDetailsPage__prices\">\n                      <h1 className=\"ProductDetailsPage__new-price\">\n                        {`$${finalPrice}`}\n                      </h1>\n\n                      {!!product.discount && (\n                        <h2 className=\"ProductDetailsPage__old-price\">{`$${product.price}`}</h2>\n                      )}\n                    </div>\n\n                    <div className=\"ProductDetailsPage__buttons\">\n                      <div className=\"ProductDetailsPage__add-button\">\n                        <CartButton product={product} />\n                      </div>\n\n                      <div className=\"ProductDetailsPage__favourites-button\">\n                        <FavouritesButton product={product} />\n                      </div>\n                    </div>\n\n                    <div className=\"ProductDetailsPage__details\">\n                      <div className=\"ProductDetailsPage__detail\">\n                        <p className=\"ProductDetailsPage__detail-name\">\n                          Screen\n                        </p>\n                        <p className=\"ProductDetailsPage__detail-text\">\n                          {details.display.screenSize || '-'}\n                        </p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__detail\">\n                        <p className=\"ProductDetailsPage__detail-name\">\n                          Resolution\n                        </p>\n                        <p className=\"ProductDetailsPage__detail-text\">\n                          {details.display.screenResolution || '-'}\n                        </p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__detail\">\n                        <p className=\"ProductDetailsPage__detail-name\">\n                          Processor\n                        </p>\n                        <p className=\"ProductDetailsPage__detail-text\">\n                          {details.hardware.cpu || '-'}\n                        </p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__detail\">\n                        <p className=\"ProductDetailsPage__detail-name\">RAM</p>\n                        <p className=\"ProductDetailsPage__detail-text\">\n                          {details.storage.ram || '-'}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"ProductDetailsPage__wrapper\">\n                  <div\n                    className=\"ProductDetailsPage__about\"\n                    data-cy=\"productDescription\"\n                  >\n                    <h2 className=\"ProductDetailsPage__about-title\">About</h2>\n                    <p className=\"ProductDetailsPage__about-text\">\n                      {details.description}\n                    </p>\n                  </div>\n\n                  <div className=\"ProductDetailsPage__specs\">\n                    <h2 className=\"ProductDetailsPage__specs-title\">\n                      Tech specs\n                    </h2>\n                    <div className=\"ProductDetailsPage__specs-wrapper\">\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">Screen</p>\n                        <p>{details.display.screenSize || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">\n                          Resolution\n                        </p>\n                        <p>{details.display.screenResolution || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">\n                          Processor\n                        </p>\n                        <p>{details.hardware.cpu || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">RAM</p>\n                        <p>{details.storage.ram || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">\n                          Built in memory\n                        </p>\n                        <p>{details.storage.flash || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">Camera</p>\n                        <p>{details.camera.primary || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">\n                          Android OS\n                        </p>\n                        <p>{details.android.os || '-'}</p>\n                      </div>\n\n                      <div className=\"ProductDetailsPage__spec\">\n                        <p className=\"ProductDetailsPage__spec-name\">\n                          Bluetooth\n                        </p>\n                        <p>{details.connectivity.bluetooth || '-'}</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"ProductDetailsPage__suggested\">\n                <h1 className=\"ProductDetailsPage__suggested-title\">\n                  You may also like\n                </h1>\n                <ProductsSlider products={suggestedProducts} />\n              </div>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Breadcrumbs } from '../components/Breadcrumbs';\nimport { Loader } from '../components/Loader';\nimport { NoResults } from '../components/NoResults';\nimport { ProductsPage } from '../components/ProductsPage';\nimport * as productsService from '../services/productsService';\nimport { Product } from '../types/Product';\n\nexport const TabletsPage: React.FC = () => {\n  const [tablets, setTablets] = useState<Product[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const category = 'Tablets';\n\n  useEffect(() => {\n    productsService.getTablets()\n      .then(setTablets)\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  return (\n    <div className=\"tablets\">\n      <Breadcrumbs category={category} />\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          {tablets.length ? (\n            <ProductsPage products={tablets} category={category} />\n          ) : (\n            <NoResults category={category} />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n","import {\n  Route, createRoutesFromElements, createHashRouter, RouterProvider,\n} from 'react-router-dom';\nimport App from './App';\nimport { CartProvider } from './context/CartContext';\nimport { FavouritesProvider } from './context/FavouritesContext';\nimport { AccessoriesPage } from './pages/AccessoriesPage';\nimport { CartPage } from './pages/CartPage';\nimport { FavouritesPage } from './pages/FavouritesPage';\nimport { HomePage } from './pages/HomePage';\nimport { NotFoundPage } from './pages/NotFoundPage';\nimport { PhonesPage } from './pages/PhonesPage';\nimport { ProductDetailsPage } from './pages/ProductDetailsPage';\nimport { TabletsPage } from './pages/TabletsPage';\n\nconst router = createHashRouter(\n  createRoutesFromElements(\n    <Route path=\"/\" element={<App />}>\n      <Route index element={<HomePage />} />\n      <Route path=\"phones\">\n        <Route index element={<PhonesPage />} />\n        <Route path=\":productId\" element={<ProductDetailsPage />} />\n      </Route>\n      <Route path=\"tablets\">\n        <Route index element={<TabletsPage />} />\n        <Route path=\":productId\" element={<ProductDetailsPage />} />\n      </Route>\n      <Route path=\"accessories\">\n        <Route index element={<AccessoriesPage />} />\n        <Route path=\":productId\" element={<ProductDetailsPage />} />\n      </Route>\n      <Route path=\"cart\" element={<CartPage />} />\n      <Route path=\"favorites\" element={<FavouritesPage />} />\n\n      <Route path=\"*\" element={<NotFoundPage />} />\n    </Route>,\n  ),\n);\n\nexport const Root = () => (\n  <CartProvider>\n    <FavouritesProvider>\n      <RouterProvider router={router} />\n    </FavouritesProvider>\n  </CartProvider>\n);\n","import ReactDOM from 'react-dom';\nimport { Root } from './Root';\nimport './index.scss';\n\nReactDOM.render(\n  <Root />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}